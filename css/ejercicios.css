/* Emojis para usar en contenidos y alertas:
üìö Libro/apuntes (por ejemplo para indicar "Temas" en √≠ndice)
üìÖ Calendario (ej: indicar "Semana")
üìñ Libro abierto (para enlazar a teor√≠a)
‚úèÔ∏è L√°piz (para ejercicios)
üìù Cuaderno (para ex√°menes)
‚≠ê Estrella (para extras)
üì¶ Caja (para contenido/recursos)
üí° Bombilla (para consejos o tips)
‚ö†Ô∏è Precauci√≥n (para advertencias)
üìå Chincheta (para recordatorios)
‚ÑπÔ∏è Informaci√≥n (para notas informativas)
*/

/* Reset b√°sico */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Inter', 'Segoe UI', system-ui, -apple-system, sans-serif;
  color: #f1f5f9;
  padding: 1.5rem;
  min-height: 100vh;
  background-attachment: fixed;
}

/* Contenedor principal - igual que index.html */
.container {
  max-width: 1400px;
  margin: 0 auto;
  background: #ffffff;
  border-radius: 16px;
  box-shadow: 0 4px 24px rgba(0, 0, 0, 0.06), 0 1px 3px rgba(0, 0, 0, 0.04);
  overflow: hidden;
}

/* Contenido de la p√°gina */
.content {
  padding: 2.5rem;
  line-height: 1.7;
}

.content p {
  margin-bottom: 1.2rem;
  text-align: justify;
  color: #4a5568;
}

/* === Nivel 1 de subt√≠tulo: H2 === */
/* M√°s protagonista, color morado + verde, doble l√≠nea */
.content h2 {
  font-size: 1.6rem;
  color: #6d28d9; /* tono morado principal */
  font-weight: 800;
  letter-spacing: -0.4px;
  text-align: left;
  margin: 2.5rem 0 1.5rem 0;
  padding: 0.9rem 1rem;
  border-top: 3px solid #10b981;
  border-bottom: 3px solid #10b981;
  border-radius: 8px;
  background: linear-gradient(to right, #b6f3da 0%, #dff9ee 50%, #ffffff 100%);
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.08);
}

/* === Nivel 1: H2 (principal, borde completo) === */
.content h2 {
  font-size: 1.6rem;
  color: #5b21b6;
  font-weight: 800;
  letter-spacing: -0.4px;
  text-align: left;
  margin: 2.5rem 0 1.5rem 0;
  padding: 0.9rem 1rem;
  border: 3px solid #10b981; /* borde completo */
  border-radius: 8px;
  background: linear-gradient(to right, #b6f3da 0%, #dff9ee 50%, #ffffff 100%);
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.08);
}

/* === Nivel 2: H3 (borde completo, m√°s fino) === */
.content h3 {
  font-size: 1.3rem;
  color: #6d28d9;
  font-weight: 700;
  letter-spacing: -0.3px;
  text-align: left;
  margin: 2rem 0 1.2rem 0;
  padding: 0.7rem 1rem 0.8rem 1rem;
  border: 2px solid #39c996; /* borde completo */
  border-radius: 6px;
  background: linear-gradient(to right, #c8f7e4 0%, #e6fbf3 60%, #ffffff 100%);
  box-shadow: 0 1px 6px rgba(16, 185, 129, 0.05);
}

/* === Nivel 3: H4 (azul m√°s claro a√∫n, verde difuminado) === */
.content h4:not(.collapsible-header h4):not(blockquote h4) {
  font-size: 1.2rem;
  color: #7c3aed;
  font-weight: 700;
  letter-spacing: -0.2px;
  text-align: left;
  margin: 2rem 0 1.2rem 0;
  padding: 0.7rem 1rem 0.8rem 1.25rem;
  border-left: 3px solid rgba(57, 201, 150, 0.4);
  border-radius: 6px;
  background: linear-gradient(to right, #d6fbec 0%, #f2fef8 70%, #ffffff 100%);
  box-shadow: 0 1px 6px rgba(16, 185, 129, 0.04);
}

/* === Nivel 4: H5 (verde y azul m√°s suaves, muy limpio) === */
.content h5 {
  font-size: 1.1rem;
  color: #8b5cf6; /* azul violeta muy suave */
  font-weight: 600;
  letter-spacing: -0.2px;
  text-align: left;
  margin: 1.5rem 0 1rem 0;
  padding: 0.6rem 1rem 0.6rem 1.25rem;
  border-left: 2px solid rgba(57, 201, 150, 0.3);
  border-radius: 4px;
  background: linear-gradient(to right, #eafdf5 0%, #ffffff 100%);
  box-shadow: 0 1px 4px rgba(16, 185, 129, 0.04);
}



.content b, .content strong {
  color: #1a2332;
  font-weight: 600;
}

.content u {
  text-decoration: underline;
  text-decoration-color: #10b981;
  text-decoration-thickness: 2px;
  text-underline-offset: 3px;
}

/* Enlaces */
a {
  color: #3b82f6;
  text-decoration: none;
  transition: all 0.2s ease;
  font-weight: 500;
  border-bottom: 1px solid transparent;
}

a:hover {
  color: #1e40af;
  border-bottom: 1px solid #1e40af;
}

/* T√≠tulo del tema */
.topic-title {
  color: #1a2332;
  text-align: center;
  font-size: 2rem;
  font-weight: 800;
  padding: 2rem 2rem 1rem 2rem;
  border-bottom: 3px solid #10b981;
  margin: 0;
  letter-spacing: -0.5px;
  background: linear-gradient(to right, #ffffff 0%, #d1f4e8 20%, #d1f4e8 80%, #ffffff 100%);
  border-radius: 8px 8px 0 0;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.1);
}

/* Caja de resumen semanal */
.week-summary {
  background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%);
  border: 2px solid #93c5fd;
  border-radius: 12px;
  padding: 1.5rem;
  margin: 2rem 2rem 0 2rem;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);
}

.week-summary .summary-text {
  font-weight: 600;
  margin-bottom: 0.75rem;
  color: #1e40af;
  font-size: 1.05rem;
}

.week-summary ul {
  margin: 0.75rem 0 0 1.5rem;
}

.week-summary li {
  margin-bottom: 0.5rem;
  color: #1e40af;
}

.week-summary .other-weeks {
  font-size: 1rem;
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #93c5fd;
}

.week-summary a {
  color: #1e40af;
  font-weight: 600;
  text-decoration: none;
  transition: all 0.2s ease;
}

.week-summary a:hover {
  color: #3b82f6;
  text-decoration: underline;
}

/* Listas */
ul, ol {
  margin: 1.2rem 0;
  padding-left: 2rem;
}

li {
  margin-bottom: 0.7rem;
  color: #4a5568;
}

/* Tablas */
/* Tablas */
.table-responsive {
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  margin: 2rem 0;
}

table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: 1rem;
  min-width: 500px;
  border: 3px solid #10b981; /* verde acento coherente con el dise√±o */
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 4px 16px rgba(16, 185, 129, 0.15);
}

/* Encabezado */
thead {
  background: linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%); /* morado m√°s claro para contraste */
}

th {
  background: transparent;
  color: #ffffff;
  font-weight: 700;
  text-align: left;
  padding: 1rem 1.2rem;
  border-bottom: 3px solid #10b981; /* borde verde */
  border-right: 3px solid #10b981; /* l√≠neas verdes entre columnas del encabezado */
  white-space: nowrap;
  font-size: 1rem;
  letter-spacing: 0.3px;
}

th:last-child {
  border-right: none;
}

/* Celdas del cuerpo */
tbody tr {
  background: #ffffff;
  transition: background-color 0.25s ease;
}

td {
  padding: 1rem 1.2rem;
  border-bottom: 2px solid #e2e8f0; /* l√≠neas m√°s gruesas entre filas */
  border-right: 3px solid #10b981; /* l√≠neas marcadas entre columnas */
  color: #4a5568;
}

td:last-child {
  border-right: none;
}

/* Bordes redondeados */
thead tr:first-child th:first-child {
  border-top-left-radius: 12px;
}

thead tr:first-child th:last-child {
  border-top-right-radius: 12px;
}

tbody tr:last-child td:first-child {
  border-bottom-left-radius: 12px;
}

tbody tr:last-child td:last-child {
  border-bottom-right-radius: 12px;
}

/* Hover: fondo gris m√°s oscuro */
tbody tr:hover {
  background-color: #cbd5e1 !important;
}

tbody tr:hover td {
  background-color: transparent;
}

tbody tr:last-child td {
  border-bottom: none;
}

/* Alertas/Notas */
.consejo, .advertencia, .recordatorio, .info {
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
  border-radius: 10px;
  border-left: 5px solid;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  transition: all 0.3s ease;
}

.consejo:hover, .advertencia:hover, .recordatorio:hover, .info:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Consejo: fondo amarillo claro, borde amarillo */
.consejo {
  background: linear-gradient(to right, #fef3c7 0%, #fef9e7 100%);
  border-left-color: #f59e0b;
}

/* Advertencia: fondo rojo claro, borde rojo */
.advertencia {
  background: linear-gradient(to right, #fee2e2 0%, #fef1f1 100%);
  border-left-color: #ef4444;
}

/* Recordatorio: fondo verde claro, borde verde */
.recordatorio {
  background: linear-gradient(to right, #d1fae5 0%, #ecfdf5 100%);
  border-left-color: #10b981;
}

/* Info: fondo azul claro, borde azul */
.info {
  background: linear-gradient(to right, #dbeafe 0%, #eff6ff 100%);
  border-left-color: #3b82f6;
}

.consejo strong, .advertencia strong, .recordatorio strong, .info strong {
  display: block;
  margin-bottom: 0.5rem;
  color: #1a2332;
  font-size: 1.05rem;
}

/* Bot√≥n "Inicio" en la p√°gina de teor√≠a */
.container.content-page {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(6px);
  border-radius: 18px;
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.4),
    inset 0 0 8px rgba(255, 255, 255, 0.05);
  padding-bottom: 2rem;
  color: #f8fafc;
}

.inicio-btn {
  position: absolute;
  top: 1.25rem;
  left: 1.5rem;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.7rem 1.3rem;
  background: linear-gradient(135deg, #1a2332 0%, #2d3748 100%);
  color: #fff;
  text-decoration: none;
  font-weight: 600;
  border-radius: 10px;
  box-shadow: 0 4px 12px rgba(26, 35, 50, 0.2);
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  font-size: 1rem;
  z-index: 10;
}

.inicio-btn::before {
  content: "üè†";
  font-size: 1.1rem;
}

.inicio-btn:hover {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(16, 185, 129, 0.3);
  border-bottom: none;
}

/* Cajas desplegables */
.collapsible {
  margin: 1.5rem 0;
  border-radius: 10px;
  overflow: hidden;
  transition: all 0.3s ease;
}

.collapsible-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: pointer;
  padding: 1rem 1.25rem;
  transition: all 0.2s ease;
}

.collapsible:hover .collapsible-header {
  background: rgba(0, 0, 0, 0.02);
}

.collapsible strong {
  font-weight: 600;
  font-size: 1.05rem;
}

.arrow {
  display: inline-block;
  width: 16px;
  height: 16px;
  margin-left: auto;
  position: relative;
}

.arrow::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
  border-top: 8px solid #000000;  /* Cambiado a negro */
  transform: translate(-50%, -50%) rotate(-90deg);
  transition: transform 0.3s ease;
  opacity: 0.7;
}

.collapsible.active .arrow::before {
  transform: translate(-50%, -50%) rotate(0deg);
  opacity: 1;
}

/* Contenido oculto por defecto */
.collapsible-content {
  display: none;
  padding: 0 1.25rem 1rem 1.25rem;
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.collapsible.active .collapsible-content {
  display: block;
}

/* Iconos autom√°ticos en el encabezado de cada tipo */
.consejo .collapsible-header strong::before {
  content: "üí° ";
}

.advertencia .collapsible-header strong::before {
  content: "‚ö†Ô∏è ";
}

.recordatorio .collapsible-header strong::before {
  content: "üìå ";
}

.info .collapsible-header strong::before {
  content: "‚ÑπÔ∏è ";
}

/* Multimedia */
.content img,
.content video,
.content audio {
  max-width: 100%;
  display: block;
  margin: 2rem auto;
  border-radius: 12px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
}

.content audio {
  width: 100%;
  margin: 1.5rem 0;
}

/* C√≥digo */
.content pre,
.content code {
  background: #f8fafb;
  font-family: 'Fira Code', Consolas, "Courier New", monospace;
  padding: 0.7rem 1rem;
  border-radius: 8px;
  overflow-x: auto;
  color: #1e40af;
  border: 1px solid #e2e8f0;
  font-size: 1rem;
}

.content pre {
  margin: 1.5rem 0;
}

/* Citas */
.content blockquote {
  border-left: 5px solid #10b981;
  padding-left: 1.5rem;
  margin: 2rem 0;
  font-style: italic;
  color: #64748b;
  background: linear-gradient(to right, #f0fdf4 0%, transparent 100%);
  padding: 1.25rem 1.5rem;
  border-radius: 0 10px 10px 0;
}

/* ============================= */
/* NUEVOS ELEMENTOS DE FORMATO */
/* ============================= */

/* Listas ordenadas con estilo personalizado */
.content ol {
  counter-reset: item;
  list-style-type: none;
  padding-left: 2rem;
  margin: 1.2rem 0;
}

.content ol li {
  counter-increment: item;
  margin-bottom: 0.7rem;
  color: #4a5568;
  position: relative;
  padding-left: 1.5rem;
}

.content ol li::before {
  content: counter(item) ".";
  position: absolute;
  left: -1rem;
  color: #10b981;
  font-weight: 700;
  font-size: 1.1rem;
}

/* Texto marcado/destacado */
.content mark {
  background: linear-gradient(to right, #fef3c7 0%, #fef9e7 100%);
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  color: #92400e;
  font-weight: 600;
  border-bottom: 2px solid #f59e0b;
}

/* Grilla de 2 columnas para comparaciones */
.two-column-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 2rem 0;
  padding: 1.5rem;
  background: #f8fafb;
  border-radius: 12px;
  border: 2px solid #e2e8f0;
}

.two-column-grid .column {
  padding: 1rem;
  background: #ffffff;
  border-radius: 8px;
  border-left: 4px solid #10b981;
}

.two-column-grid .column h4 {
  color: #1a2332;
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e2e8f0;
}

.two-column-grid .column p {
  color: #4a5568;
  font-size: 1rem;
  line-height: 1.6;
}

/* Listas de definiciones (glosario) */
.content dl {
  margin: 2rem 0;
  padding: 1.5rem;
  background: linear-gradient(to bottom, #f8fafb 0%, #ffffff 100%);
  border-radius: 12px;
  border: 2px solid #e2e8f0;
}

.content dt {
  color: #1a2332;
  font-weight: 700;
  font-size: 1.1rem;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: linear-gradient(to right, #dbeafe 0%, #eff6ff 100%);
  border-left: 4px solid #3b82f6;
  border-radius: 6px;
}

.content dt:first-child {
  margin-top: 0;
}

.content dd {
  color: #4a5568;
  margin-left: 1.5rem;
  margin-bottom: 1rem;
  padding-left: 1rem;
  border-left: 2px solid #e2e8f0;
  line-height: 1.7;
}

/* Iconos inline */
.icon-inline {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  margin: 0 0.25rem;
  font-size: 1rem;
  vertical-align: middle;
}

.icon-check {
  color: #10b981;
  font-weight: 700;
}

.icon-cross {
  color: #ef4444;
  font-weight: 700;
}

.icon-star {
  color: #f59e0b;
}

.icon-target {
  color: #3b82f6;
}

.icon-note {
  color: #8b5cf6;
}

/* Responsive para nuevos elementos */
@media (max-width: 768px) {
  .two-column-grid {
    grid-template-columns: 1fr;
    gap: 1.5rem;
    padding: 1rem;
  }
  
  .content ol {
    padding-left: 1.5rem;
  }
}

@media (max-width: 480px) {
  .two-column-grid {
    padding: 0.75rem;
  }
  
  .content dl {
    padding: 1rem;
  }
  
  .content dd {
    margin-left: 1rem;
  }
}

/* ============================= */
/* ELEMENTOS ADICIONALES DE FORMATO */
/* ============================= */

/* 1. Listas numeradas (ordenadas) con estilo personalizado */
.content ol {
  counter-reset: item;
  list-style-type: none;
  padding-left: 2.5rem;
  margin: 1.2rem 0;
}

.content ol li {
  counter-increment: item;
  margin-bottom: 0.8rem;
  color: #4a5568;
  position: relative;
  padding-left: 0.5rem;
}

.content ol li::before {
  content: counter(item);
  position: absolute;
  left: -2rem;
  width: 1.5rem;
  height: 1.5rem;
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: #ffffff;
  font-weight: 700;
  font-size: 1rem;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 2px 6px rgba(16, 185, 129, 0.3);
}

/* 2. Texto destacado con color de fondo (inline) */
.content mark {
  background: linear-gradient(to right, #fef3c7 0%, #fef9e7 100%);
  padding: 0.2rem 0.6rem;
  border-radius: 4px;
  color: #92400e;
  font-weight: 600;
  border-bottom: 2px solid #f59e0b;
  box-shadow: 0 1px 3px rgba(245, 158, 11, 0.1);
}

/* 3. Listas de definiciones (glosario) */
.content dl {
  margin: 2rem 0;
  padding: 1.5rem;
  background: linear-gradient(to bottom, #f8fafb 0%, #ffffff 100%);
  border-radius: 12px;
  border: 2px solid #e2e8f0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
}

.content dt {
  color: #1a2332;
  font-weight: 700;
  font-size: 1.1rem;
  margin-top: 1.2rem;
  margin-bottom: 0.5rem;
  padding: 0.6rem 1rem;
  background: linear-gradient(to right, #dbeafe 0%, #eff6ff 100%);
  border-left: 4px solid #3b82f6;
  border-radius: 6px;
}

.content dt:first-child {
  margin-top: 0;
}

.content dd {
  color: #4a5568;
  margin-left: 1.5rem;
  margin-bottom: 1.2rem;
  padding-left: 1rem;
  border-left: 2px solid #e2e8f0;
  line-height: 1.7;
  font-size: 1rem;
}

/* 4. Cajas de ejemplo/nota al margen */
.ejemplo-box {
  background: linear-gradient(to bottom, #f0fdf4 0%, #dcfce7 100%);
  border: 2px solid #86efac;
  border-left: 5px solid #10b981;
  border-radius: 10px;
  padding: 1.5rem;
  margin: 1.5rem 0;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.1);
}

.ejemplo-box h4 {
  color: #047857;
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #86efac;
}

.ejemplo-box p {
  color: #065f46;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.nota-box {
  background: linear-gradient(to bottom, #fef3c7 0%, #fef9e7 100%);
  border: 2px solid #fcd34d;
  border-left: 5px solid #f59e0b;
  border-radius: 10px;
  padding: 1.5rem;
  margin: 1.5rem 0;
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.1);
}

.nota-box h4 {
  color: #92400e;
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #fcd34d;
}

.nota-box p {
  color: #78350f;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

/* 5. Texto tachado e insertado */
.content del {
  text-decoration: line-through;
  color: #ef4444;
  text-decoration-thickness: 2px;
  background: #fee2e2;
  padding: 0.1rem 0.3rem;
  border-radius: 3px;
}

.content ins {
  text-decoration: none;
  color: #10b981;
  font-weight: 600;
  background: #d1fae5;
  padding: 0.1rem 0.3rem;
  border-radius: 3px;
}

/* 6. Separadores visuales */
.content hr,
.section-divider {
  border: none;
  height: 3px;
  background: linear-gradient(to right, transparent 0%, #10b981 20%, #10b981 80%, transparent 100%);
  margin: 3rem 0;
  border-radius: 2px;
}

.section-divider-dots {
  border: none;
  text-align: center;
  margin: 3rem 0;
  height: auto;
}

.section-divider-dots::before {
  content: "‚Ä¢ ‚Ä¢ ‚Ä¢";
  color: #10b981;
  font-size: 1.5rem;
  letter-spacing: 1rem;
}

/* 7. Grilla de 3 columnas */
.three-column-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.5rem;
  margin: 2rem 0;
  padding: 1.5rem;
  background: #f8fafb;
  border-radius: 12px;
  border: 2px solid #e2e8f0;
}

.three-column-grid .column {
  padding: 1.2rem;
  background: #ffffff;
  border-radius: 8px;
  border-top: 4px solid #8b5cf6;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.04);
  transition: all 0.3s ease;
}

.three-column-grid .column:hover {
  transform: translateY(-4px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.three-column-grid .column h4 {
  color: #1a2332;
  font-size: 1.05rem;
  font-weight: 700;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #e2e8f0;
  text-align: center;
}

.three-column-grid .column p,
.three-column-grid .column ul {
  color: #4a5568;
  font-size: 1rem;
  line-height: 1.6;
}

.three-column-grid .column ul {
  padding-left: 1.2rem;
}

/* Responsive para elementos adicionales */
@media (max-width: 968px) {
  .three-column-grid {
    grid-template-columns: 1fr;
    gap: 1.2rem;
    padding: 1rem;
  }
}

@media (max-width: 768px) {
  .content ol {
    padding-left: 2rem;
  }
  
  .content ol li::before {
    left: -1.5rem;
    width: 1.3rem;
    height: 1.3rem;
    font-size: 1rem;
  }
  
  .ejemplo-box,
  .nota-box {
    padding: 1.2rem;
  }
  
  .content dl {
    padding: 1.2rem;
  }
}

@media (max-width: 480px) {
  .content ol {
    padding-left: 1.8rem;
  }
  
  .content dd {
    margin-left: 1rem;
    padding-left: 0.75rem;
  }
  
  .ejemplo-box,
  .nota-box {
    padding: 1rem;
  }
}

/* ============================= */
/* ACORDEONES ANIDADOS Y CALLOUTS ADICIONALES */
/* ============================= */

/* 8. Acordeones anidados (sub-secciones colapsables) */
.collapsible-nested {
  margin: 1rem 0 1rem 1.5rem;
  border-radius: 8px;
  overflow: hidden;
  border-left: 3px solid #cbd5e1;
  background: rgba(255, 255, 255, 0.5);
}

.collapsible-nested .collapsible-header {
  padding: 0.8rem 1rem;
  font-size: 1rem;
}

.collapsible-nested strong {
  font-size: 1rem;
  color: #475569;
}

.collapsible-nested .collapsible-content {
  padding: 0 1rem 0.8rem 1rem;
  font-size: 1rem;
}

.collapsible-nested .arrow {
  width: 14px;
  height: 14px;
}

.collapsible-nested .arrow::before {
  border-left: 5px solid transparent;
  border-right: 5px solid transparent;
  border-top: 7px solid #64748b;
}

/* Estilos espec√≠ficos para acordeones anidados dentro de cada tipo de caja */
.consejo .collapsible-nested {
  border-left-color: #fbbf24;
  background: rgba(254, 252, 232, 0.5);
}

.advertencia .collapsible-nested {
  border-left-color: #f87171;
  background: rgba(254, 242, 242, 0.5);
}

.recordatorio .collapsible-nested {
  border-left-color: #34d399;
  background: rgba(236, 253, 245, 0.5);
}

.info .collapsible-nested {
  border-left-color: #60a5fa;
  background: rgba(239, 246, 255, 0.5);
}

/* 9. Callout: Ejercicio R√°pido */
.ejercicio-rapido {
  background: linear-gradient(to right, #e0e7ff 0%, #eef2ff 100%);
  border-left-color: #6366f1;
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
  border-radius: 10px;
  border-left: 5px solid;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  transition: all 0.3s ease;
}

.ejercicio-rapido:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.ejercicio-rapido strong {
  display: block;
  margin-bottom: 0.5rem;
  color: #1a2332;
  font-size: 1.05rem;
}

.ejercicio-rapido.collapsible .collapsible-header strong::before {
  content: "‚úèÔ∏è ";
}

/* 10. Callout: Dato Curioso (Fun Fact) */
.dato-curioso {
  background: linear-gradient(to right, #fce7f3 0%, #fef1f7 100%);
  border-left-color: #ec4899;
  padding: 1rem 1.25rem;
  margin: 1.5rem 0;
  border-radius: 10px;
  border-left: 5px solid;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  transition: all 0.3s ease;
}

.dato-curioso:hover {
  transform: translateX(4px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.dato-curioso strong {
  display: block;
  margin-bottom: 0.5rem;
  color: #1a2332;
  font-size: 1.05rem;
}

.dato-curioso.collapsible .collapsible-header strong::before {
  content: "üí° ";
}

/* Responsive para acordeones anidados y callouts */
@media (max-width: 768px) {
  .collapsible-nested {
    margin-left: 1rem;
  }
  
  .collapsible-nested .collapsible-header {
    padding: 0.7rem 0.9rem;
  }
}

@media (max-width: 480px) {
  .collapsible-nested {
    margin-left: 0.5rem;
  }
  
  .ejercicio-rapido,
  .dato-curioso {
    padding: 0.9rem 1rem;
  }
}

/* Formularios */
.content form {
  margin: 2rem 0;
  background: #f8fafb;
  padding: 2rem;
  border-radius: 12px;
  border: 1px solid #e2e8f0;
}

.content label {
  display: block;
  font-weight: 600;
  margin: 0.75rem 0 0.4rem;
  color: #1a2332;
  font-size: 1rem;
}

.content input[type="text"],
.content input[type="email"],
.content input[type="number"],
.content input[type="password"],
.content select,
.content textarea {
  width: 100%;
  padding: 0.75rem 1rem;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  margin-bottom: 1.2rem;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
  background: #ffffff;
}

.content input[type="text"]:focus,
.content input[type="email"]:focus,
.content input[type="number"]:focus,
.content input[type="password"]:focus,
.content select:focus,
.content textarea:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.content input[type="checkbox"],
.content input[type="radio"] {
  accent-color: #10b981;
  margin-right: 0.5rem;
  transform: scale(1.2);
  cursor: pointer;
}

.content .form-check {
  margin-bottom: 0.75rem;
  display: flex;
  align-items: center;
}

.content input[type="submit"],
.content button {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.75rem 1.5rem;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1rem;
  font-weight: 600;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.2);
}

.content input[type="submit"]:hover,
.content button:hover {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(16, 185, 129, 0.3);
}

.page-subtitle {
  text-align: center;
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a2332;
  margin: 1.5rem 2rem 0 2rem;
  border-bottom: 2px solid #e2e8f0;
  padding-bottom: 0.75rem;
  letter-spacing: -0.3px;
}

/* ============================= */
/* ESTILOS PARA EJERCICIOS Y EX√ÅMENES */
/* ============================= */

/* Caja de ejercicio */
.ejercicio-box {
  background: #ffffff;
  border: 2px solid #e2e8f0;
  border-radius: 12px;
  padding: 2rem;
  margin: 2rem 0;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
  transition: all 0.3s ease;
}

.ejercicio-box:hover {
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
  transform: translateY(-2px);
}

.ejercicio-box h3 {
  font-size: 1.3rem;
  color: #1a2332;
  font-weight: 700;
  margin: 0 0 1rem 0;
  padding: 0;
  border: none;
  border-radius: 0;
  background: none;
  box-shadow: none;
  text-align: left;
  letter-spacing: normal;
}

/* H4 dentro de ejercicios - simplificar */
.ejercicio-box h4 {
  font-size: 1.1rem;
  color: #1a2332;
  font-weight: 600;
  margin: 1rem 0 0.5rem 0;
  padding: 0;
  border: none;
  background: none;
  box-shadow: none;
}

/* Instrucciones */
.instrucciones {
  background: linear-gradient(to right, #eff6ff 0%, #f8fafb 100%);
  border-left: 4px solid #3b82f6;
  padding: 0.9rem 1.2rem;
  margin-bottom: 1.5rem;
  border-radius: 8px;
  color: #1e40af;
  font-weight: 500;
  font-style: italic;
  font-size: 1.1rem;
  text-align: justify;    
}

/* Formulario de ejercicio */
.ejercicio-form {
  margin-top: 1.5rem;
}

/* Grupo de pregunta */
.question-group {
  margin-bottom: 1.8rem;
  padding: 1.2rem;
  background: #f8fafb;
  border-radius: 10px;
  border: 1px solid #e2e8f0;
  transition: all 0.2s ease;
  font-size: 1rem !important;  
}

.question-group:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.question-text {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 1rem;
  font-size: 1rem !important;
}

/* Inputs de texto para respuestas */
.question-group input[type="text"] {
  width: 100%;
  padding: 0.85rem 1.1rem;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
  background: #ffffff;
  margin-top: 0.5rem;
}

.question-group input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
  background: #ffffff;
}

/* Opciones de radio personalizadas */
.radio-option {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  margin: 0.5rem 0;
  background: #ffffff;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 500;
}

.radio-option:hover {
  background: #f8fafb;
  border-color: #10b981;
  transform: translateX(4px);
}

.radio-option input[type="radio"] {
  accent-color: #10b981;
  margin-right: 0.75rem;
  transform: scale(1.3);
  cursor: pointer;
}

.radio-option span {
  color: #2d3748;
  font-size: 1rem;
}

/* Opciones de checkbox personalizadas */
.checkbox-option {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  margin: 0.5rem 0;
  background: #ffffff;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 500;
}

.checkbox-option:hover {
  background: #f8fafb;
  border-color: #8b5cf6;
  transform: translateX(4px);
}

.checkbox-option input[type="checkbox"] {
  accent-color: #8b5cf6;
  margin-right: 0.75rem;
  transform: scale(1.3);
  cursor: pointer;
}

.checkbox-option span {
  color: #2d3748;
  font-size: 1rem;
}

/* Selects personalizados */
.question-group select {
  width: 100%;
  padding: 0.85rem 1.1rem;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-size: 1rem;
  font-family: inherit;
  background: #ffffff;
  cursor: pointer;
  transition: all 0.2s ease;
  margin-top: 0.5rem;
}

.question-group select:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
  outline: none;
}

/* Textarea */
.question-group textarea {
  width: 100%;
  padding: 0.85rem 1.1rem;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-size: 1rem !important;
  font-family: inherit;
  resize: vertical;
  min-height: 120px;
  transition: all 0.2s ease;
  background: #ffffff;
  margin-top: 0.5rem;
  line-height: 1.6;
}

.question-group textarea:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Contador de palabras */
.word-counter {
  text-align: right;
  margin-top: 0.5rem;
  font-size: 1rem;
  color: #64748b;
  font-weight: 600;
}

#word-count {
  color: #10b981;
  font-weight: 700;
}

/* ============================================
   BOTONES DE EJERCICIO (Check, Reset, Solutions)
   ============================================ */

/* Oculta el aviso ‚ÄúSolutions shown!‚Äù */
.exercise-feedback { display: none !important; }

.exercise-buttons {
  display: flex;
  gap: 1rem;
  justify-content: center;
  margin-top: 1.5rem;
  flex-wrap: wrap;
}

/* Bot√≥n Check Answers (ya existe, pero refinado) */
.btn-check {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
  flex: 1;
  min-width: 150px;
  max-width: 200px;
}

.btn-check:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.btn-check:active {
  transform: translateY(0);
}

/* Bot√≥n Reset */
.btn-reset {
  background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
  color: white;
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(245, 87, 108, 0.3);
  flex: 1;
  min-width: 130px;
  max-width: 180px;
}

.btn-reset:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(245, 87, 108, 0.4);
}

.btn-reset:active {
  transform: translateY(0);
}

/* Bot√≥n Show Solutions */
.btn-solutions {
  background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
  color: white;
  padding: 0.75rem 1.5rem;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(79, 172, 254, 0.3);
  flex: 1;
  min-width: 150px;
  max-width: 200px;
}

.btn-solutions:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(79, 172, 254, 0.4);
}

.btn-solutions:active {
  transform: translateY(0);
}

/* Responsive para m√≥viles */
@media (max-width: 768px) {
  .exercise-buttons {
    flex-direction: column;
    align-items: stretch;
  }
  
  .btn-check,
  .btn-reset,
  .btn-solutions {
    max-width: 100%;
    width: 100%;
  }
}

/* Bot√≥n √∫nico que ocupa 100% del ancho */
.btn-check-unique {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 0.75rem 2rem;
  border: none;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
  width: 100%;
  max-width: 100%;
  display: block;
  margin: 1.5rem auto 0;
}

.btn-check-unique:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(102, 126, 234, 0.4);
}

.btn-check-unique:active {
  transform: translateY(0);
}

/* Bot√≥n para enviar redacci√≥n */
.btn-submit-essay {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: #ffffff;
  border: none;
  border-radius: 10px;
  padding: 0.9rem 2rem;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  width: 100%;
  margin-top: 1rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.btn-submit-essay:hover {
  background: linear-gradient(135deg, #059669 0%, #047857 100%);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
}

/* Botonera: base com√∫n */
.exercise-buttons {
  display: flex;
  gap: 0.6rem;
  flex-wrap: wrap;
}

/* Estilo base de botones de ejercicios */
.exercise-buttons .btn-check,
.exercise-buttons .btn-check-unique,
.exercise-buttons .btn-reset,
.exercise-buttons .btn-solutions {
  appearance: none;
  border: 2px solid transparent;
  border-radius: 12px;
  padding: 0.8rem 1.3rem;
  font-weight: 800;
  letter-spacing: -0.2px;
  color: #ffffff;
  cursor: pointer;
  transition: transform 0.15s ease, box-shadow 0.15s ease, filter 0.15s ease;
  box-shadow: 0 6px 18px rgba(0,0,0,0.10);
}

/* Check = Verde (coherente con #10b981/#059669) */
.exercise-buttons .btn-check,
.exercise-buttons .btn-check-unique {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  border-color: #10b981;
}
.exercise-buttons .btn-check:hover,
.exercise-buttons .btn-check-unique:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(16,185,129,0.35);
  filter: brightness(1.02);
}
.exercise-buttons .btn-check:focus-visible,
.exercise-buttons .btn-check-unique:focus-visible {
  outline: 3px solid rgba(16,185,129,0.35);
  outline-offset: 2px;
}

/* Reset = Naranja (coherente con hotspot hover #ea580c/#c2410c) */
.exercise-buttons .btn-reset {
  background: linear-gradient(135deg, #ea580c 0%, #c2410c 100%);
  border-color: #ea580c;
}
.exercise-buttons .btn-reset:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(234,88,12,0.35);
  filter: brightness(1.02);
}
.exercise-buttons .btn-reset:focus-visible {
  outline: 3px solid rgba(234,88,12,0.35);
  outline-offset: 2px;
}

/* Solutions = Morado (coherente con #8b5cf6/#7c3aed del sistema) */
.exercise-buttons .btn-solutions {
  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
  border-color: #8b5cf6;
}
.exercise-buttons .btn-solutions:hover {
  transform: translateY(-1px);
  box-shadow: 0 10px 24px rgba(139,92,246,0.35);
  filter: brightness(1.02);
}
.exercise-buttons .btn-solutions:focus-visible {
  outline: 3px solid rgba(139,92,246,0.35);
  outline-offset: 2px;
}

/* Estado deshabilitado coherente */
.exercise-buttons button:disabled {
  opacity: 0.65;
  cursor: not-allowed;
  transform: none;
  box-shadow: none;
}

/* Texto de lectura */
.reading-text {
  background: linear-gradient(to bottom, #f0f9ff 0%, #e0f2fe 100%);
  border: 2px solid #7dd3fc;
  border-left: 5px solid #0ea5e9;
  border-radius: 10px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
  line-height: 1.8;
}

.reading-text p {
  margin-bottom: 0.75rem;
  color: #0c4a6e;
  text-align: justify;
  font-size: 1rem;
}

/* Reproductor de audio */
.audio-player {
  margin: 1.5rem 0;
  text-align: center;
}

.audio-player audio {
  background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
  border: 2px solid #c084fc;
  border-left: 4px solid #a855f7;
  border-radius: 8px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;   
}

/* Caja de resultados */
.resultado-box {
  background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%);
  border: 3px solid #10b981;
  border-radius: 12px;
  padding: 2.5rem;
  margin: 2rem 0;
  text-align: center;
  box-shadow: 0 4px 20px rgba(16, 185, 129, 0.2);
}

.resultado-box h3 {
  color: #047857;
  font-size: 1.5rem;
  margin-bottom: 1.5rem;
  border-bottom: none;
}

/* C√≠rculo de puntuaci√≥n */
.score-display {
  margin: 2rem 0;
}

.score-circle {
  width: 140px;
  height: 140px;
  border-radius: 50%;
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 0 auto 1.5rem;
  box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);
  animation: scaleIn 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

@keyframes scaleIn {
  from {
    transform: scale(0);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

.score-number {
  font-size: 2.5rem;
  font-weight: 800;
  color: #ffffff;
}

.score-message {
  font-size: 1.2rem;
  color: #047857;
  font-weight: 700;
  margin-bottom: 1.5rem;
}

/* Detalles del feedback */
.feedback-details {
  background: #ffffff;
  border-radius: 10px;
  padding: 1.5rem;
  margin: 1.5rem 0;
  border: 2px solid #10b981;
}

.feedback-details p {
  margin: 0.5rem 0;
  font-size: 1.05rem;
  color: #2d3748;
  font-weight: 600;
  text-align: center;
}

/* Bot√≥n reintentar */
.btn-retry {
  background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  color: #ffffff;
  border: none;
  border-radius: 10px;
  padding: 0.9rem 2.5rem;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.btn-retry:hover {
  background: linear-gradient(135deg, #ea580c 0%, #c2410c 100%);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(249, 115, 22, 0.4);
}

/* ============================= */
/* EJERCICIOS MODERNOS - DRAG & DROP */
/* ============================= */

/* Contenedor drag and drop */
.drag-drop-container {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  margin: 1.5rem 0;
}

/* Zona de palabras arrastrables */
.drag-source {
  background: linear-gradient(to bottom, #f8fafb 0%, #ffffff 100%);
  border: 2px dashed #cbd5e1;
  border-radius: 12px;
  padding: 1.5rem;
  min-height: 200px;
}

.drag-source h4 {
  color: #1a2332;
  font-size: 1.1rem;
  margin-bottom: 1rem;
  text-align: center;
}

/* Items arrastrables */
.draggable-item {
  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
  color: #ffffff;
  padding: 0.75rem 1.25rem;
  margin: 0.5rem;
  border-radius: 8px;
  cursor: grab;
  display: inline-block;
  font-weight: 600;
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(139, 92, 246, 0.3);
  user-select: none;
}

.draggable-item:hover {
  transform: scale(1.05);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
}

.draggable-item:active {
  cursor: grabbing;
  opacity: 0.7;
}

.draggable-item.dragging {
  opacity: 0.5;
  transform: rotate(5deg);
}

/* Zona de destino */
.drop-zone {
  background: linear-gradient(to bottom, #eff6ff 0%, #dbeafe 100%);
  border: 3px dashed #93c5fd;
  border-radius: 12px;
  padding: 1.5rem;
  min-height: 200px;
  transition: all 0.3s ease;
}

.drop-zone h4 {
  color: #1e40af;
  font-size: 1.1rem;
  margin-bottom: 1rem;
  text-align: center;
}

.drop-zone.drag-over {
  background: linear-gradient(to bottom, #dbeafe 0%, #bfdbfe 100%);
  border-color: #3b82f6;
  border-style: solid;
  transform: scale(1.02);
}

/* Huecos para arrastrar palabras */
.word-bank {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;  /* ‚Üê Cambia de 0.75rem a 0.5rem */
  margin-bottom: 1.5rem;
  padding: 0.8rem;  /* ‚Üê Cambia de 1rem a 0.8rem */
  background: linear-gradient(to right, #faf5ff 0%, #f8fafb 100%);
  border-radius: 10px;
  border: 2px solid #e9d5ff;
}

.word-item {
  background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
  color: #ffffff;
  padding: 0.4rem 0.8rem;  /* ‚Üê Cambia de 0.6rem 1.1rem a 0.4rem 0.8rem */
  border-radius: 8px;
  cursor: grab;
  font-weight: 600;
  transition: all 0.2s ease;
  box-shadow: 0 2px 6px rgba(236, 72, 153, 0.3);
  user-select: none;
  font-size: 0.9rem;  /* ‚Üê Agrega esta l√≠nea */
  line-height: 1.2;  /* ‚Üê Agrega esta l√≠nea */  
}

.word-item:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 10px rgba(236, 72, 153, 0.4);
}

.word-item:active {
  cursor: grabbing;
}

/* Zona de texto con huecos */
.sentence-with-gaps {
  background: #ffffff;
  padding: 1.5rem;
  border-radius: 10px;
  border: 2px solid #e2e8f0;
  line-height: 1.7;  /* ‚Üê Cambia de 2 a 1.7 */
  font-size: 1rem;  /* ‚Üê Cambia de 1.05rem a 1rem */
}

.gap {
  display: inline-block;
  min-width: 90px;  /* ‚Üê Cambia de 120px a 90px */
  padding: 0.35rem 0.7rem;  /* ‚Üê Cambia de 0.5rem 1rem a 0.35rem 0.7rem */
  margin: 0 0.2rem;  /* ‚Üê Cambia de 0 0.25rem a 0 0.2rem */
  border: 2px dashed #cbd5e1;
  border-radius: 6px;
  background: #f8fafb;
  text-align: center;
  transition: all 0.3s ease;
  vertical-align: baseline;  /* ‚Üê Agrega esta l√≠nea si no est√° */
  font-size: 0.9rem;  /* ‚Üê Agrega esta l√≠nea */
  line-height: 1.3;  /* ‚Üê Agrega esta l√≠nea */
}

.gap.filled {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: #ffffff;
  border-style: solid;
  border-color: #10b981;
}

.gap.drag-over {
  background: #dbeafe;
  border-color: #3b82f6;
  border-style: solid;
  transform: scale(1.05);
}

/* ============================= */
/* EJERCICIO DE RANKING/ORDENAR */
/* ============================= */

.sortable-list {
  background: #f8fafb;
  border-radius: 12px;
  padding: 1.5rem;
  border: 2px solid #e2e8f0;
}

.sortable-item {
  background: #ffffff;
  border: 2px solid #e2e8f0;
  border-radius: 10px;
  padding: 1rem 1.25rem;
  margin: 0.75rem 0;
  cursor: move;
  display: flex;
  align-items: center;
  gap: 1rem;
  transition: all 0.3s ease;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.06);
}

.sortable-item:hover {
  background: #f8fafb;
  border-color: #10b981;
  transform: translateX(8px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.sortable-item.dragging {
  opacity: 0.5;
  transform: scale(1.05);
}

.drag-handle {
  font-size: 1.5rem;
  color: #94a3b8;
  cursor: grab;
}

.drag-handle:active {
  cursor: grabbing;
}

.sortable-item-content {
  flex: 1;
  font-weight: 500;
  color: #2d3748;
}

.item-number {
  background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
  color: #ffffff;
  width: 32px;
  height: 32px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 700;
  font-size: 1rem;
}

/* ============================= */
/* EJERCICIO HOTSPOT EN IMAGEN */
/* ============================= */

/* Reemplaza SOLO esta secci√≥n de hotspots en el CSS existente */

/* ============================= */
/* EJERCICIO HOTSPOT EN IMAGEN - MEJORADO */
/* ============================= */

.hotspot-container {
  margin: 2rem 0;
  display: flex;
  justify-content: center;
}

.hotspot-image-wrapper {
  position: relative;
  width: 100%;
  max-width: 700px;
  aspect-ratio: 16/10;
  border-radius: 12px;
  overflow: visible;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

/* Imagen de aula simulada */
.classroom-image {
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, #e0f2fe 0%, #f0f9ff 50%, #dbeafe 100%);
  position: relative;
  border-radius: 12px;
}

.board-area {
  position: absolute;
  top: 5%;
  left: 30%;
  width: 40%;
  height: 25%;
  background: linear-gradient(135deg, #1a2332 0%, #2d3748 100%);
  border-radius: 8px;
  border: 4px solid #64748b;
}

.desk-area {
  position: absolute;
  top: 40%;
  left: 20%;
  width: 30%;
  height: 35%;
  background: linear-gradient(135deg, #92400e 0%, #b45309 100%);
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.chair-area {
  position: absolute;
  top: 50%;
  left: 60%;
  width: 25%;
  height: 30%;
  background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
}

.window-area {
  position: absolute;
  top: 10%;
  right: 10%;
  width: 20%;
  height: 30%;
  background: linear-gradient(135deg, #bfdbfe 0%, #dbeafe 100%);
  border: 4px solid #3b82f6;
  border-radius: 8px;
}

/* Hotspots mejorados */
.hotspot {
  position: absolute;
  width: 45px;
  height: 45px;
  background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
  border: 4px solid #ffffff;
  border-radius: 50%;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 16px rgba(249, 115, 22, 0.5);
  animation: pulse 2s infinite;
  transform: translate(-50%, -50%);
  z-index: 10;
  display: flex;
  align-items: center;
  justify-content: center;
}

@keyframes pulse {
  0%, 100% {
    box-shadow: 0 4px 16px rgba(249, 115, 22, 0.5);
  }
  50% {
    box-shadow: 0 4px 24px rgba(249, 115, 22, 0.8);
  }
}

.hotspot:hover {
  transform: translate(-50%, -50%) scale(1.2);
  background: linear-gradient(135deg, #ea580c 0%, #c2410c 100%);
  box-shadow: 0 6px 20px rgba(249, 115, 22, 0.7);
  animation: none;
}

.hotspot-number {
  color: #ffffff;
  font-size: 1.2rem;
  font-weight: 800;
  z-index: 1;
}

.hotspot-label {
  position: absolute;
  bottom: -45px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, #1a2332 0%, #2d3748 100%);
  color: #ffffff;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  font-size: 1rem;
  font-weight: 700;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.hotspot-label::before {
  content: '';
  position: absolute;
  top: -6px;
  left: 50%;
  transform: translateX(-50%);
  width: 0;
  height: 0;
  border-left: 8px solid transparent;
  border-right: 8px solid transparent;
  border-bottom: 8px solid #1a2332;
}

.hotspot:hover .hotspot-label {
  opacity: 1;
  bottom: -50px;
}

.hotspot.clicked {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  animation: none;
}

.hotspot.clicked::after {
  content: '‚úì';
  position: absolute;
  color: #ffffff;
  font-size: 1.5rem;
  font-weight: 800;
}

/* Info y feedback */
.hotspot-info {
  margin-top: 3rem;
  text-align: center;
  padding: 1rem;
  background: linear-gradient(to right, #f8fafb 0%, #ffffff 100%);
  border-radius: 10px;
  border: 2px solid #e2e8f0;
}

.hotspot-info p {
  margin: 0;
  color: #64748b;
  font-size: 1rem;
}

.hotspot-feedback {
  margin-top: 1rem;
  padding: 1rem;
  border-radius: 8px;
  font-weight: 600;
  display: none;
}

.hotspot-feedback.show {
  display: block;
}

.hotspot-feedback.success {
  background: linear-gradient(to right, #d1fae5 0%, #ecfdf5 100%);
  border: 2px solid #10b981;
  color: #047857;
}

/* Responsive para hotspots */
@media (max-width: 768px) {
  .hotspot {
    width: 38px;
    height: 38px;
  }

  .hotspot-number {
    font-size: 1rem;
  }

  .hotspot-label {
    font-size: 1rem;
    padding: 0.4rem 0.8rem;
  }

  .hotspot-image-wrapper {
    max-width: 100%;
  }
}

@media (max-width: 480px) {
  .hotspot {
    width: 32px;
    height: 32px;
  }

  .hotspot-number {
    font-size: 1rem;
  }

  .hotspot-label {
    font-size: 1rem;
    padding: 0.35rem 0.7rem;
    bottom: -40px;
  }

  .hotspot:hover .hotspot-label {
    bottom: -45px;
  }
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

.hotspot:hover {
  transform: scale(1.2);
  background: linear-gradient(135deg, #ea580c 0%, #c2410c 100%);
  box-shadow: 0 6px 16px rgba(249, 115, 22, 0.5);
}

.hotspot-label {
  position: absolute;
  bottom: -35px;
  left: 50%;
  transform: translateX(-50%);
  background: #1a2332;
  color: #ffffff;
  padding: 0.4rem 0.8rem;
  border-radius: 6px;
  font-size: 1rem;
  font-weight: 600;
  white-space: nowrap;
  opacity: 0;
  pointer-events: none;
  transition: all 0.3s ease;
}

.hotspot:hover .hotspot-label {
  opacity: 1;
  bottom: -40px;
}

/* ============================= */
/* FLASHCARDS */
/* ============================= */

.flashcards-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 1rem;
  margin: 2rem 0;
}

.flashcard {
  perspective: 1000px;
  height: 140px;
  cursor: pointer;
  transition: transform 0.2s ease;
}

.flashcard:hover {
  transform: translateY(-5px);
}

.flashcard-inner {
  position: relative;
  width: 100%;
  height: 100%;
  transition: transform 0.6s;
  transform-style: preserve-3d;
}

/* CLASE CLAVE PARA EL VOLTEO */
.flashcard.flipped .flashcard-inner {
  transform: rotateY(180deg);
}

.flashcard-front,
.flashcard-back {
  position: absolute;
  width: 100%;
  height: 100%;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
  border-radius: 16px;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 1.25rem;
}

.flashcard-front {
  background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
}

.flashcard-back {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  transform: rotateY(180deg);
}

/* ESTILOS DE TEXTO - M√ÅS ESPEC√çFICOS */
.flashcard-front h4,
.flashcard-back h4 {
  color: #ffffff !important;
  font-size: 0.95rem !important;
  font-weight: 600 !important;
  margin: 0 !important;
  padding: 0 !important;
  text-align: center !important;
  line-height: 1.3 !important;
  word-wrap: break-word !important;
  overflow-wrap: break-word !important;
  background: none !important;
  background-color: transparent !important;
  border: none !important;
  border-radius: 0 !important;
  box-shadow: none !important;
  display: inline !important;
}

/* Responsive */
@media (max-width: 768px) {
  .flashcards-container {
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
  }
  
  .flashcard {
    height: 180px;
  }
  
  .flashcard-front h4,
  .flashcard-back h4 {
    font-size: 1.5rem !important;
  }
  
  .flashcard-front,
  .flashcard-back {
    border-radius: 18px;
  }
}

@media (max-width: 480px) {
  .flashcards-container {
    grid-template-columns: 1fr;
  }
  
  .flashcard {
    height: 160px;
  }
  
  .flashcard-front h4,
  .flashcard-back h4 {
    font-size: 1.3rem !important;
  }
  
  .flashcard-front,
  .flashcard-back {
    padding: 1.5rem;
    border-radius: 16px;
  }
}

/* ============================= */
/* EJERCICIO DE RELOJ INTERACTIVO */
/* ============================= */

.clock-exercise {
  text-align: center;
  padding: 2rem;
  background: linear-gradient(to bottom, #f8fafb 0%, #ffffff 100%);
  border-radius: 12px;
  border: 2px solid #e2e8f0;
}

.clock-display {
  width: 200px;
  height: 200px;
  border: 8px solid #1a2332;
  border-radius: 50%;
  margin: 1.5rem auto;
  position: relative;
  background: #ffffff;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
}

.clock-center {
  position: absolute;
  width: 12px;
  height: 12px;
  background: #ef4444;
  border-radius: 50%;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 10;
}

.clock-number {
  position: absolute;
  font-weight: 700;
  color: #1a2332;
  font-size: 1.1rem;
}

.time-input-group {
  display: flex;
  gap: 1rem;
  justify-content: center;
  align-items: center;
  margin-top: 2rem;
}

.time-input-group input {
  width: 70px;
  padding: 0.75rem;
  font-size: 1.2rem;
  text-align: center;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  font-weight: 700;
}

.time-separator {
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a2332;
}

/* Responsive para ejercicios modernos */
@media (max-width: 768px) {
  .drag-drop-container {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }

  .flashcards-container {
    grid-template-columns: 1fr;
  }

  .hotspot-container {
    max-width: 100%;
  }

  .sortable-item {
    padding: 0.85rem 1rem;
  }

  .word-bank {
    justify-content: center;
  }
}

/* Responsive general */
@media (max-width: 768px) {
  body {
    padding: 1rem;
  }

  .topic-title {
    color: #ffffff;
    text-align: center;
    font-size: 2.1rem;
    font-weight: 800;
    padding: 2rem 2rem 1.2rem 2rem;
    margin: 0;
    letter-spacing: -0.5px;
    background: linear-gradient(to bottom, rgba(30,41,59,0.9) 0%, rgba(15,23,42,0.95) 100%);
    border-bottom: 3px solid #10b981;
    box-shadow: 0 6px 12px rgba(0,0,0,0.3);
  }

  .week-summary {
    padding: 1.25rem;
    margin: 1.5rem 1.5rem 0 1.5rem;
  }

  .content {
    padding: 2rem 1.5rem;
  }

  .content h2 {
    font-size: 1.35rem;
  }

  table {
    font-size: 1rem;
  }

  th, td {
    padding: 0.75rem 0.9rem;
  }

  .inicio-btn {
    padding: 0.6rem 1.1rem;
    font-size: 1rem;
  }

  .ejercicio-box {
    padding: 1.5rem;
  }

  .ejercicio-box h3 {
    font-size: 1.15rem;
  }

  .question-group {
    padding: 1rem;
  }

  .score-circle {
    width: 110px;
    height: 110px;
  }

  .score-number {
    font-size: 2rem;
  }
}

@media (max-width: 480px) {
  body {
    padding: 0.75rem;
  }

  .topic-title {
    font-size: 1.4rem;
    padding: 1.25rem 1rem 0.6rem 1rem;
  }

  .content {
    padding: 1.5rem 1rem;
  }

  .content h2 {
    font-size: 1.2rem;
  }

  table {
    font-size: 1rem;
  }

  th, td {
    padding: 0.6rem 0.7rem;
  }

  .week-summary {
    margin: 1rem;
    padding: 1rem;
  }

  .inicio-btn {
    top: 1rem;
    left: 1rem;
    padding: 0.5rem 0.9rem;
    font-size: 1rem;
  }

  .content form {
    padding: 1.5rem;
  }

  .ejercicio-box {
    padding: 1.25rem;
  }

  .instrucciones {
    padding: 0.75rem 1rem;
    font-size: 1rem;
  }

  .question-group {
    padding: 0.9rem;
  }

  .btn-check,
  .btn-submit-essay {
    padding: 0.75rem 1.5rem;
    font-size: 1rem;
  }

  .radio-option,
  .checkbox-option {
    padding: 0.6rem 0.85rem;
  }

  .clock-display {
    width: 160px;
    height: 160px;
  }

  .time-input-group input {
    width: 60px;
    padding: 0.6rem;
    font-size: 1.1rem;
  }
}

/* ============================= */
/* NUEVOS EJERCICIOS INTERACTIVOS */
/* ============================= */

/* Ejercicio 14: Memory Matching Game */
.memory-game-container {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 1rem;
    margin: 2rem 0;
}

.memory-card {
    perspective: 1000px;
    height: 150px;
    cursor: pointer;
}

.memory-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.5s;
    transform-style: preserve-3d;
}

.memory-card.flipped .memory-card-inner {
    transform: rotateY(180deg);
}

.memory-card.matched .memory-card-inner {
    transform: rotateY(180deg);
    opacity: 0.6;
    pointer-events: none;
}

.memory-card-front,
.memory-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 1rem;
    text-align: center;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    font-weight: 700;
    font-size: 1.1rem;
}

.memory-card-front {
    background: linear-gradient(135deg, #6366f1 0%, #4f46e5 100%);
    color: #ffffff;
    font-size: 3rem;
}

.memory-card-back {
    background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
    color: #ffffff;
    transform: rotateY(180deg);
}

.memory-stats {
    text-align: center;
    margin-top: 2rem;
    font-size: 1.1rem;
    font-weight: 600;
    color: #1a2332;
}

.memory-stats span {
    color: #10b981;
    font-weight: 800;
}

/* Ejercicio 15: Quiz with Progress Bar */
.progress-bar-container {
    margin: 1.5rem 0 2rem 0;
}

.progress-bar {
    width: 100%;
    height: 12px;
    background: #e2e8f0;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #10b981 0%, #059669 100%);
    transition: width 0.4s ease;
    border-radius: 20px;
}

.progress-text {
    text-align: center;
    margin-top: 0.75rem;
    font-weight: 600;
    color: #64748b;
    font-size: 1rem;
}

.quiz-container {
    margin: 1.5rem 0;
}

.quiz-question {
    display: none;
    animation: fadeIn 0.4s ease;
}

.quiz-question.active {
    display: block;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.quiz-navigation {
    display: flex;
    gap: 1rem;
    justify-content: space-between;
    margin-top: 2rem;
}

.btn-quiz-nav {
    background: linear-gradient(135deg, #64748b 0%, #475569 100%);
    color: #ffffff;
    border: none;
    border-radius: 10px;
    padding: 0.8rem 1.8rem;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(100, 116, 139, 0.3);
    flex: 1;
}

.btn-quiz-nav:hover:not(:disabled) {
    background: linear-gradient(135deg, #475569 0%, #334155 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(100, 116, 139, 0.4);
}

.btn-quiz-nav:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

/* Ejercicio 16: Fill in the Blanks Story */
.word-bank-story {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;  /* ‚Üê Cambia de 0.75rem a 0.5rem */
  justify-content: center;
  margin-bottom: 2rem;
  padding: 1.2rem;  /* ‚Üê Cambia de 1.5rem a 1.2rem */
  background: linear-gradient(to right, #fef3c7 0%, #fef9e7 100%);
  border-radius: 12px;
  border: 2px solid #fbbf24;
}

.word-item-story {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  color: #ffffff;
  padding: 0.5rem 1rem;  /* ‚Üê Cambia de 0.7rem 1.3rem a 0.5rem 1rem */
  border-radius: 8px;
  cursor: grab;
  font-weight: 700;
  transition: all 0.2s ease;
  box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
  user-select: none;
  font-size: 0.95rem;  /* ‚Üê Cambia de 1.05rem a 0.95rem */
}

.word-item-story:hover {
    transform: translateY(-3px);
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.5);
}

.word-item-story:active {
    cursor: grabbing;
}

.story-with-gaps {
  background: #ffffff;
  padding: 2rem;
  border-radius: 12px;
  border: 2px solid #e2e8f0;
  line-height: 1.9;  /* ‚Üê Cambia de 2.2 a 1.9 */
  font-size: 1rem;  /* ‚Üê Cambia de 1.1rem a 1rem */
  color: #2d3748;
}

.gap-story {
  display: inline-block;
  min-width: 100px;  /* ‚Üê Cambia de 130px a 100px */
  padding: 0.45rem 0.9rem;  /* ‚Üê Cambia de 0.6rem 1.2rem a 0.45rem 0.9rem */
  margin: 0 0.25rem;  /* ‚Üê Cambia de 0 0.3rem a 0 0.25rem */
  border: 2px dashed #cbd5e1;
  border-radius: 8px;
  background: #f8fafb;
  text-align: center;
  transition: all 0.3s ease;
  vertical-align: middle;
  font-weight: 600;
  font-size: 0.9rem;  /* ‚Üê Agrega esta l√≠nea */
  line-height: 1.3;  /* ‚Üê Agrega esta l√≠nea */
}

.gap-story.filled {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: #ffffff;
    border-style: solid;
    border-color: #8b5cf6;
}

.gap-story.drag-over {
    background: #dbeafe;
    border-color: #3b82f6;
    border-style: solid;
    transform: scale(1.08);
}

/* Responsive para nuevos ejercicios */
@media (max-width: 768px) {
    .memory-game-container {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.75rem;
    }
    
    .memory-card {
        height: 120px;
    }
    
    .memory-card-front {
        font-size: 2.5rem;
    }
    
    .memory-card-back {
        font-size: 1rem;
    }
    
    .quiz-navigation {
        flex-direction: column;
    }
    
    .word-bank-story {
        padding: 1rem;
    }
    
    .word-item-story {
        padding: 0.6rem 1rem;
        font-size: 1rem;
    }
    
    .story-with-gaps {
        padding: 1.5rem;
        font-size: 1rem;
    }
}

@media (max-width: 480px) {
    .memory-game-container {
        grid-template-columns: repeat(2, 1fr);
        gap: 0.5rem;
    }
    
    .memory-card {
        height: 100px;
    }
    
    .memory-card-front {
        font-size: 2rem;
    }
    
    .memory-card-back {
        font-size: 1rem;
    }
}

/* ============================= */
/* EJERCICIOS 17-24: NUEVOS TIPOS */
/* ============================= */

/* Ejercicio 17: Pronunciation Practice */
.pronunciation-container {
    background: linear-gradient(to bottom, #f0f9ff 0%, #e0f2fe 100%);
    border: 2px solid #7dd3fc;
    border-radius: 12px;
    padding: 2rem;
    margin: 1.5rem 0;
}

.pronunciation-word {
    text-align: center;
    margin-bottom: 2rem;
}

.pronunciation-word h4 {
    color: #0369a1;
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.pronunciation-phonetic {
    font-size: 1.2rem;
    color: #64748b;
    font-style: italic;
    margin-bottom: 1.5rem;
}

.btn-play-audio {
    background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
    color: #ffffff;
    border: none;
    border-radius: 10px;
    padding: 0.9rem 2rem;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(14, 165, 233, 0.3);
}

.btn-play-audio:hover {
    background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(14, 165, 233, 0.4);
}

.recording-controls {
    display: flex;
    gap: 1rem;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 1.5rem;
}

.btn-record, .btn-stop-record, .btn-play-recording {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: #ffffff;
    border: none;
    border-radius: 10px;
    padding: 0.8rem 1.5rem;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
}

.btn-record:hover:not(:disabled) {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    transform: translateY(-2px);
}

.btn-stop-record {
    background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
}

.btn-play-recording {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.btn-record:disabled, .btn-stop-record:disabled, .btn-play-recording:disabled {
    opacity: 0.4;
    cursor: not-allowed;
}

.recording-status {
    text-align: center;
    font-weight: 600;
    color: #64748b;
    min-height: 30px;
}

.pronunciation-tips {
    background: #fef3c7;
    border-left: 4px solid #f59e0b;
    padding: 1rem;
    border-radius: 8px;
    margin-top: 1.5rem;
}

/* Ejercicio 18: Interactive Dialogue */
.dialogue-container {
    background: #f8fafb;
    border-radius: 12px;
    padding: 2rem;
    margin: 1.5rem 0;
    min-height: 300px;
}

.dialogue-message {
    display: none;
    animation: slideInLeft 0.5s ease;
    margin-bottom: 1.5rem;
}

.dialogue-message.active {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

@keyframes slideInLeft {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.bot-message .avatar {
    background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
    color: #ffffff;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    flex-shrink: 0;
}

.user-message {
    flex-direction: row-reverse;
}

.user-message .avatar {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.message-content {
    background: #ffffff;
    border-radius: 12px;
    padding: 1rem 1.5rem;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    flex: 1;
}

.message-content p {
    margin: 0;
    color: #2d3748;
}

.dialogue-choices {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-top: 2rem;
}

.choice-btn {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: #ffffff;
    border: none;
    border-radius: 10px;
    padding: 1rem 1.5rem;
    font-size: 1rem;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    text-align: left;
}

.choice-btn:hover {
    background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
    transform: translateX(8px);
    box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4);
}

/* Ejercicio 19: Dictation */
.dictation-container {
    margin: 1.5rem 0;
}

.audio-controls {
    text-align: center;
    margin-bottom: 2rem;
    padding: 1.5rem;
    background: linear-gradient(to right, #eff6ff 0%, #dbeafe 100%);
    border-radius: 10px;
}

.btn-play-dictation {
    background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
    color: #ffffff;
    border: none;
    border-radius: 10px;
    padding: 1rem 2rem;
    font-size: 1.05rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    margin-bottom: 1rem;
}

.btn-play-dictation:hover {
    background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%);
    transform: translateY(-2px);
}

.plays-remaining {
    display: block;
    margin-top: 0.75rem;
    font-weight: 600;
    color: #64748b;
}

.dictation-input-area {
    margin: 2rem 0;
}

#dictation-answer {
    width: 100%;
    min-height: 120px;
    padding: 1rem;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    font-size: 1.05rem;
    font-family: inherit;
    resize: vertical;
    transition: all 0.3s ease;
}

#dictation-answer:focus {
    border-color: #10b981;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
    outline: none;
}

.dictation-word-count {
    text-align: right;
    margin-top: 0.5rem;
    font-weight: 600;
    color: #64748b;
}

.dictation-solution {
    background: linear-gradient(to right, #d1fae5 0%, #ecfdf5 100%);
    border: 2px solid #10b981;
    border-radius: 10px;
    padding: 1.5rem;
    margin-top: 1.5rem;
}

.solution-text {
    font-size: 1.1rem;
    font-weight: 600;
    color: #047857;
    margin-top: 0.5rem;
}

/* Ejercicio 20: Spelling Challenge */
.spelling-container {
    margin: 1.5rem 0;
    text-align: center;
}

.btn-play-word {
    background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
    color: #ffffff;
    border: none;
    border-radius: 10px;
    padding: 0.9rem 2rem;
    font-size: 1rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3);
    margin-bottom: 1.5rem;
}

.btn-play-word:hover {
    background: linear-gradient(135deg, #db2777 0%, #be185d 100%);
    transform: translateY(-2px);
}

.spelling-hint {
    background: #fef3c7;
    border-left: 4px solid #f59e0b;
    padding: 1rem;
    border-radius: 8px;
    margin-bottom: 2rem;
    text-align: left;
}

.letter-bank {
    display: flex;
    gap: 0.75rem;
    justify-content: center;
    flex-wrap: wrap;
    margin: 2rem 0;
    padding: 1.5rem;
    background: linear-gradient(to right, #eff6ff 0%, #dbeafe 100%);
    border-radius: 12px;
}

.letter-tile {
    background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
    color: #ffffff;
    width: 50px;
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 800;
    border-radius: 10px;
    cursor: grab;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    user-select: none;
}

.letter-tile:hover {
    transform: translateY(-5px) rotate(5deg);
    box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
}

.letter-tile:active {
    cursor: grabbing;
}

.spelling-answer-zone {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    margin: 2rem 0;
    padding: 1.5rem;
    background: #f8fafb;
    border-radius: 12px;
    min-height: 90px;
}

.letter-slot {
    width: 50px;
    height: 50px;
    border: 3px dashed #cbd5e1;
    border-radius: 10px;
    background: #ffffff;
    transition: all 0.3s ease;
}

.letter-slot.drag-over {
    border-color: #10b981;
    border-style: solid;
    background: #d1fae5;
    transform: scale(1.1);
}

.letter-slot.filled {
    border-style: solid;
    border-color: #10b981;
}

/* Ejercicio 21: Statement to Question */
.hint-box {
    background: #f0f9ff;
    border-left: 3px solid #3b82f6;
    padding: 0.5rem 0.75rem;
    border-radius: 6px;
    font-size: 1rem;
    color: #1e40af;
    margin-top: 0.75rem;
    font-style: italic;
}

/* Ejercicio 22: Synonyms & Antonyms */
.synonym-container, .antonym-container {
    margin: 2rem 0;
    padding: 1.5rem;
    background: #f8fafb;
    border-radius: 12px;
    border: 2px solid #e2e8f0;
}

.matching-pairs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2rem;
}

.word-left, .word-right {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.match-word {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: #ffffff;
    padding: 1rem 1.5rem;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    font-weight: 600;
    text-align: center;
    border: 3px solid transparent;
    user-select: none;
}

.match-word:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4);
}

.match-word.selected {
    border-color: #fbbf24;
    box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.3);
}

.match-word.matched {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    pointer-events: none;
}

/* Ejercicio 23: Verb Tenses */
.tense-label {
    display: inline-block;
    background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
    color: #ffffff;
    padding: 0.4rem 0.9rem;
    border-radius: 6px;
    font-size: 1rem;
    font-weight: 700;
    margin-top: 0.5rem;
}

/* Ejercicio 24: Prepositions - ya usa estilos existentes de selects */

/* Responsive para ejercicios 17-24 */
@media (max-width: 768px) {
    .recording-controls {
        flex-direction: column;
    }
    
    .dialogue-choices {
        gap: 0.75rem;
    }
    
    .choice-btn {
        padding: 0.85rem 1.2rem;
        font-size: 1rem;
    }
    
    .letter-bank {
        gap: 0.5rem;
        padding: 1rem;
    }
    
    .letter-tile {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
    }
    
    .spelling-answer-zone {
        gap: 0.3rem;
        padding: 1rem;
    }
    
    .letter-slot {
        width: 40px;
        height: 40px;
    }
    
    .matching-pairs {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
}

@media (max-width: 480px) {
    .pronunciation-container {
        padding: 1.5rem;
    }
    
    .btn-play-audio, .btn-play-dictation, .btn-play-word {
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
    }
    
    .dialogue-container {
        padding: 1.5rem;
    }
    
    .message-content {
        padding: 0.85rem 1.2rem;
    }
    
    .letter-tile {
        width: 35px;
        height: 35px;
        font-size: 1.1rem;
    }
    
    .letter-slot {
        width: 35px;
        height: 35px;
    }
}
/* ============================= */
/* EJERCICIOS CL√ÅSICOS 9-16 ADICIONALES */
/* ============================= */

/* Ejercicio 9: Error Correction */
.error-sentence {
    background: #fef2f2;
    padding: 1rem;
    border-radius: 8px;
    border-left: 4px solid #ef4444;
    margin-bottom: 1rem;
}

.error-highlight {
    background: #fecaca;
    color: #dc2626;
    padding: 0.2rem 0.4rem;
    border-radius: 4px;
    font-weight: 700;
    text-decoration: line-through;
}

/* Ejercicio 10: Translation - usa estilos existentes */

/* Ejercicio 11: Word Bank Completion */
.word-bank-display {
  background: linear-gradient(to right, #fef3c7 0%, #fef9e7 100%);
  border: 2px solid #fbbf24;
  border-radius: 10px;
  padding: 1.2rem;
  margin-bottom: 1.5rem;
  text-align: center;
  font-size: 1.05rem;
  line-height: 1.8;
}

.word-bank-display strong {
  color: #92400e;
  display: block;
  margin-bottom: 0.75rem;
  font-size: 1.1rem;
}

.word-bank-display {
  color: #1a2332;
  font-weight: 600;
}

/* Ejercicio 12: Verb Conjugation Table */
.conjugation-table-container {
    overflow-x: auto;
    margin: 1.5rem 0;
}

.conjugation-table {
    width: 100%;
    border-collapse: collapse;
    background: #ffffff;
    border-radius: 10px;
    overflow: hidden;
}

.conjugation-table thead {
    background: linear-gradient(to bottom, #1a2332 0%, #2d3748 100%);
}

.conjugation-table th {
    color: #ffffff;
    padding: 1rem;
    font-weight: 600;
    text-align: center;
    font-size: 1rem;
}

.conjugation-table td {
    padding: 0.75rem;
    text-align: center;
    border-bottom: 1px solid #e2e8f0;
}

.conjugation-table td strong {
    color: #3b82f6;
    font-size: 1.05rem;
}

.conjugation-table input[type="text"] {
    width: 100%;
    min-width: 80px;
    padding: 0.6rem 0.8rem;
    border: 2px solid #e2e8f0;
    border-radius: 6px;
    font-size: 1rem;
    text-align: center;
    transition: all 0.2s ease;
}

.conjugation-table input[type="text"]:focus {
    border-color: #10b981;
    box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
    outline: none;
}

.conjugation-table tbody tr:hover {
    background: #f8fafb;
}

/* Ejercicio 13: Cloze Test */
.cloze-text {
    background: #f8fafb;
    border: 2px solid #e2e8f0;
    border-radius: 10px;
    padding: 2rem;
    margin: 1.5rem 0;
    line-height: 2.2;
}

.cloze-text p {
    font-size: 1.1rem;
    color: #2d3748;
    margin: 0;
}

.inline-select {
    display: inline-block;
    padding: 0.4rem 0.6rem;
    border: 2px solid #cbd5e1;
    border-radius: 6px;
    background: #ffffff;
    font-size: 1rem;
    font-weight: 600;
    color: #1a2332;
    cursor: pointer;
    transition: all 0.2s ease;
    margin: 0 0.2rem;
    min-width: 90px;
}

.inline-select:focus {
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
    outline: none;
}

.inline-select:hover {
    border-color: #94a3b8;
}

/* Ejercicio 14: Question Formation */
.hint-text {
    background: #f0f9ff;
    border-left: 3px solid #3b82f6;
    padding: 0.6rem 0.9rem;
    border-radius: 6px;
    font-size: 1rem;
    color: #1e40af;
    margin-top: 0.75rem;
    font-style: italic;
}

/* Ejercicio 15: Categorization */
.categorization-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 2rem;
    margin: 1.5rem 0;
}

.category-column {
    background: #f8fafb;
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 1.5rem;
}

.category-title {
    color: #1a2332;
    font-size: 1.2rem;
    font-weight: 700;
    margin-bottom: 1rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid #e2e8f0;
    text-align: center;
}

.category-column .checkbox-option {
    margin: 0.75rem 0;
    padding: 0.75rem 1rem;
}

/* Ejercicio 16: Dialogue Completion */
.dialogue-box {
    background: linear-gradient(to bottom, #f8fafb 0%, #ffffff 100%);
    border: 2px solid #e2e8f0;
    border-radius: 12px;
    padding: 2rem;
    margin: 1.5rem 0;
}

.dialogue-line {
    margin: 1rem 0;
    padding: 1rem;
    border-radius: 8px;
    font-size: 1.05rem;
    line-height: 1.6;
}

.dialogue-line strong {
    color: #3b82f6;
    font-weight: 700;
    display: inline-block;
    min-width: 30px;
}

.dialogue-answer {
    background: #eff6ff;
    border-left: 4px solid #3b82f6;
}

.inline-select-dialogue {
    display: inline-block;
    padding: 0.5rem 0.8rem;
    border: 2px solid #cbd5e1;
    border-radius: 8px;
    background: #ffffff;
    font-size: 1rem;
    color: #1a2332;
    cursor: pointer;
    transition: all 0.2s ease;
    margin-left: 0.5rem;
    min-width: 250px;
    font-weight: 500;
}

.inline-select-dialogue:focus {
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
    outline: none;
}

.inline-select-dialogue:hover {
    border-color: #3b82f6;
    background: #f8fafb;
}

/* Estilos para la caja de traducci√≥n (fondo gris claro) */
.translation-box {
    margin-top: 1.5rem;
    padding: 1.5rem;
    border-radius: 10px;
    background-color: #f7f7f7; /* Fondo gris claro */
    border: 1px solid #e0e0e0;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    /* El contenedor ahora establece el color base del texto */
    color: #555555; /* Texto principal gris oscuro */
    font-size: 1rem;
}

/* Estilo para el p√°rrafo de traducci√≥n dentro de la caja */
.translation-box .translation-text {
    margin: 0; /* Elimina el margen por defecto del p√°rrafo */
    line-height: 1.6;
    text-align: justify; /* Justifica el texto de la traducci√≥n */
}


/* Responsive para ejercicios 9-16 */
@media (max-width: 768px) {
    .conjugation-table-container {
        font-size: 1rem;
    }
    
    .conjugation-table th,
    .conjugation-table td {
        padding: 0.6rem 0.4rem;
    }
    
    .conjugation-table input[type="text"] {
        min-width: 60px;
        padding: 0.5rem;
        font-size: 1rem;
    }
    
    .cloze-text {
        padding: 1.5rem;
    }
    
    .cloze-text p {
        font-size: 1rem;
    }
    
    .inline-select {
        min-width: 70px;
        font-size: 1rem;
        padding: 0.3rem 0.5rem;
    }
    
    .categorization-grid {
        grid-template-columns: 1fr;
        gap: 1.5rem;
    }
    
    .dialogue-box {
        padding: 1.5rem;
    }
    
    .inline-select-dialogue {
        min-width: 100%;
        margin-left: 0;
        margin-top: 0.5rem;
        display: block;
    }
}

@media (max-width: 480px) {
    .word-bank-display {
        font-size: 1rem;
        padding: 1rem;
    }
    
    .conjugation-table th,
    .conjugation-table td {
        font-size: 1rem;
        padding: 0.5rem 0.3rem;
    }
    
    .cloze-text {
        padding: 1rem;
        line-height: 2;
    }
    
    .inline-select {
        display: block;
        width: 100%;
        margin: 0.5rem 0;
    }
    
    .dialogue-line {
        padding: 0.75rem;
        font-size: 1rem;
    }
}

/* ============================= */
/* ESTILOS COMPACTOS PARA EJERCICIOS */
/* ============================= */
/* Agregar estos estilos al final de ejercicios.css */

/* Ejercicios m√°s compactos */
.ejercicio-box.compact {
  padding: 1.5rem;
  margin: 1.5rem 0;
}

.compact-form {
  margin-top: 1rem;
}

/* Preguntas inline (m√°s eficientes en espacio) */
.inline-question {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
  padding: 0.75rem;
  background: #f8fafb;
  border-radius: 8px;
  font-size: 1rem;
}

.question-number {
  font-weight: 700;
  color: #10b981;
  min-width: 25px;
}

.question-label {
  font-weight: 600;
  color: #1a2332;
}

.question-text {
  color: #4a5568;
  font-size: 1rem;  
}

/* Inputs inline con diferentes tama√±os */
.inline-input {
  padding: 0.5rem 0.75rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
  background: #ffffff;
}

.inline-input:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.inline-input.tiny {
  width: 60px;
}

.inline-input.short {
  width: 100px;
}

.inline-input.medium {
  width: 140px;
}

/* Hints inline */
.hint-inline {
  color: #64748b;
  font-size: 1rem;
  font-style: italic;
}

/* N√∫meros en ejercicios */
.number-display {
  font-weight: 700;
  font-size: 1.1rem;
  color: #3b82f6;
  min-width: 30px;
  text-align: center;
}

.equals {
  font-weight: 700;
  color: #64748b;
  margin: 0 0.25rem;
}

/* Bot√≥n compacto */
.btn-check.compact {
  padding: 0.75rem 1.75rem;
  margin-top: 0.75rem;
  width: auto;
  display: inline-block;
}

/* Multiple choice m√°s compacto */
.ejercicio-box.compact .radio-option {
  padding: 0.6rem 0.9rem;
  margin: 0.4rem 0;
}

.ejercicio-box.compact .question-group {
  padding: 0.9rem;
  margin-bottom: 1.2rem;
}

/* Matching m√°s compacto */
.ejercicio-box.compact select {
  padding: 0.5rem 0.75rem;
  width: auto;
  min-width: 150px;
}

/* Reading comprehension m√°s compacto */
.ejercicio-box.compact .reading-text {
  padding: 1rem;
  margin-bottom: 1rem;
}

/* Dialogue m√°s compacto */
.ejercicio-box.compact .dialogue-box {
  padding: 1.25rem;
}

.ejercicio-box.compact .dialogue-line {
  padding: 0.75rem;
  margin: 0.75rem 0;
}

/* Responsive para ejercicios compactos */
@media (max-width: 768px) {
  .inline-question {
    flex-wrap: wrap;
    gap: 0.3rem;
  }
  
  .inline-input {
    width: 100%;
    max-width: 200px;
  }
  
  .inline-input.tiny {
    width: 50px;
  }
  
  .inline-input.short {
    width: 80px;
  }
  
  .inline-input.medium {
    width: 120px;
  }
  
  .ejercicio-box.compact {
    padding: 1.25rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact {
    padding: 1rem;
  }
  
  .inline-question {
    padding: 0.6rem;
    font-size: 1rem;
  }
  
  .btn-check.compact {
    width: 100%;
  }
  
  .inline-input {
    font-size: 1rem;
    padding: 0.45rem 0.65rem;
  }
}

/* Subt√≠tulo de p√°gina */
.page-subtitle {
  text-align: center;
  font-size: 1.5rem;
  font-weight: 700;
  color: #1a2332;
  margin: 1.5rem 2rem 0 2rem;
  border-bottom: 2px solid #e2e8f0;
  padding-bottom: 0.75rem;
  letter-spacing: -0.3px;
}

/* ============================================================================================================================================================================== */
/* ============================================================================================================================================================================== */
/* VARIANTES DE FORMATO DE EJERCICIOS */
/* ============================================================================================================================================================================== */
/* ============================================================================================================================================================================== */

/* VARIANTE 1A: Grilla 2 columnas (2x2) */
.ejercicio-box.compact-2col .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col .question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col .question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col .question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col .question-item input[type="text"] {
  width: 100%;
  padding: 0.7rem 0.9rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col .question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* VARIANTE 1B: Grilla 3 columnas (3x3) */
.ejercicio-box.compact-3col .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col .question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col .question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col .question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col .question-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col .question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Responsive para variantes compactas */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col .question-grid-2col,
  .ejercicio-box.compact-3col .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col .question-item,
  .ejercicio-box.compact-3col .question-item {
    padding: 0.85rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: MULTIPLE CHOICE */
/* ============================= */

/* Variante 2A: Multiple Choice 2 columnas */
.ejercicio-box.compact-2col.mc-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.mc-compact .mc-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.mc-compact .mc-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.mc-compact .mc-question-text {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.75rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.mc-compact .radio-option {
  padding: 0.5rem 0.75rem;
  margin: 0.4rem 0;
  font-size: 1rem;
}

/* Variante 2B: Multiple Choice 3 columnas */
.ejercicio-box.compact-3col.mc-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.mc-compact .mc-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.mc-compact .mc-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.mc-compact .mc-question-text {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.65rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.mc-compact .radio-option {
  padding: 0.45rem 0.7rem;
  margin: 0.35rem 0;
  font-size: 1rem;
}

/* Responsive para Multiple Choice compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.mc-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.mc-compact .question-grid-2col,
  .ejercicio-box.compact-3col.mc-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.mc-compact .mc-question-item,
  .ejercicio-box.compact-3col.mc-compact .mc-question-item {
    padding: 0.85rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: MATCHING (SELECT DROPDOWNS) */
/* ============================= */

/* Variante 4A: Matching 2 columnas */
.ejercicio-box.compact-2col.matching-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.matching-compact .matching-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.matching-compact .matching-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.matching-compact .matching-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.matching-compact .matching-item select {
  width: 100%;
  padding: 0.7rem 0.9rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  background: #ffffff;
  cursor: pointer;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.matching-compact .matching-item select:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
  outline: none;
}

/* Variante 4B: Matching 3 columnas */
.ejercicio-box.compact-3col.matching-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.matching-compact .matching-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.matching-compact .matching-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.matching-compact .matching-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.matching-compact .matching-item select {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  background: #ffffff;
  cursor: pointer;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.matching-compact .matching-item select:focus {
  border-color: #3b82f6;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
  outline: none;
}

/* Responsive para Matching compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.matching-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.matching-compact .question-grid-2col,
  .ejercicio-box.compact-3col.matching-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.matching-compact .matching-item,
  .ejercicio-box.compact-3col.matching-compact .matching-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.compact-2col.matching-compact .matching-item select,
  .ejercicio-box.compact-3col.matching-compact .matching-item select {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: TRUE OR FALSE */
/* ============================= */

/* Variante 3A: True/False 2 columnas */
.ejercicio-box.compact-2col.tf-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.tf-compact .tf-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.tf-compact .tf-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.tf-compact .tf-question-text {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.75rem;
  font-size: 1rem;
  line-height: 1.5;
}

.ejercicio-box.compact-2col.tf-compact .tf-options {
  display: flex;
  gap: 0.75rem;
}

.ejercicio-box.compact-2col.tf-compact .radio-option {
  flex: 1;
  padding: 0.6rem 0.85rem;
  margin: 0;
  font-size: 1rem;
  justify-content: center;
}

/* Variante 3B: True/False 3 columnas */
.ejercicio-box.compact-3col.tf-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.tf-compact .tf-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.tf-compact .tf-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.tf-compact .tf-question-text {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.7rem;
  font-size: 1rem;
  line-height: 1.4;
}

.ejercicio-box.compact-3col.tf-compact .tf-options {
  display: flex;
  gap: 0.6rem;
}

.ejercicio-box.compact-3col.tf-compact .radio-option {
  flex: 1;
  padding: 0.55rem 0.75rem;
  margin: 0;
  font-size: 1rem;
  justify-content: center;
}

/* Responsive para True/False compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.tf-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.tf-compact .question-grid-2col,
  .ejercicio-box.compact-3col.tf-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .ejercicio-box.compact-2col.tf-compact .tf-options,
  .ejercicio-box.compact-3col.tf-compact .tf-options {
    flex-direction: column;
  }
  
  .ejercicio-box.compact-2col.tf-compact .radio-option,
  .ejercicio-box.compact-3col.tf-compact .radio-option {
    justify-content: flex-start;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.tf-compact .tf-question-item,
  .ejercicio-box.compact-3col.tf-compact .tf-question-item {
    padding: 0.85rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: WORD ORDER */
/* ============================= */

/* Variante 5A: Word Order 2 columnas */
.ejercicio-box.compact-2col.word-order-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.word-order-compact .word-order-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.word-order-compact .word-order-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.word-order-compact .word-order-words {
  background: linear-gradient(to right, #fef3c7 0%, #fef9e7 100%);
  border-left: 3px solid #f59e0b;
  padding: 0.7rem 0.9rem;
  border-radius: 6px;
  margin-bottom: 0.75rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.word-order-compact .word-order-words strong {
  color: #92400e;
  font-weight: 700;
  font-size: 1rem;  
}

.ejercicio-box.compact-2col.word-order-compact .word-order-label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.word-order-compact .word-order-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.word-order-compact .word-order-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Variante 5B: Word Order 3 columnas */
.ejercicio-box.compact-3col.word-order-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.word-order-compact .word-order-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.word-order-compact .word-order-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.word-order-compact .word-order-words {
  background: linear-gradient(to right, #fef3c7 0%, #fef9e7 100%);
  border-left: 3px solid #f59e0b;
  padding: 0.6rem 0.8rem;
  border-radius: 6px;
  margin-bottom: 0.7rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.word-order-compact .word-order-words strong {
  color: #92400e;
  font-weight: 700;
  font-size: 1rem;  
}

.ejercicio-box.compact-3col.word-order-compact .word-order-label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.word-order-compact .word-order-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.word-order-compact .word-order-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Responsive para Word Order compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.word-order-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.word-order-compact .question-grid-2col,
  .ejercicio-box.compact-3col.word-order-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.word-order-compact .word-order-item,
  .ejercicio-box.compact-3col.word-order-compact .word-order-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.compact-2col.word-order-compact .word-order-words,
  .ejercicio-box.compact-3col.word-order-compact .word-order-words {
    font-size: 1rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: READING COMPREHENSION */
/* ============================= */

/* Variante 6A: Reading Comprehension 2 columnas */
.ejercicio-box.compact-2col.reading-compact .reading-text {
  background: linear-gradient(to bottom, #f0f9ff 0%, #e0f2fe 100%);
  border: 2px solid #7dd3fc;
  border-left: 5px solid #0ea5e9;
  border-radius: 10px;
  padding: 1.25rem;
  margin-bottom: 1.5rem;
  line-height: 1.8;
}

.ejercicio-box.compact-2col.reading-compact .reading-text p {
  margin-bottom: 0.5rem;
  color: #0c4a6e;
  text-align: justify;
  font-size: 1rem;  
}

.ejercicio-box.compact-2col.reading-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.reading-compact .reading-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.reading-compact .reading-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.reading-compact .reading-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.reading-compact .reading-question-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.reading-compact .reading-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-2col.reading-compact .reading-question-text {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.75rem;
  font-size: 1rem !important;
}

.ejercicio-box.compact-2col.reading-compact .checkbox-option {
  padding: 0.5rem 0.75rem;
  margin: 0.4rem 0;
  font-size: 1rem;
}

/* Variante 6B: Reading Comprehension 3 columnas */
.ejercicio-box.compact-3col.reading-compact .reading-text {
  background: linear-gradient(to bottom, #f0f9ff 0%, #e0f2fe 100%);
  border: 2px solid #7dd3fc;
  border-left: 5px solid #0ea5e9;
  border-radius: 10px;
  padding: 1.15rem;
  margin-bottom: 1.5rem;
  line-height: 1.7;
}

.ejercicio-box.compact-3col.reading-compact .reading-text p {
  margin-bottom: 0.5rem;
  color: #0c4a6e;
  text-align: justify;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.reading-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.reading-compact .reading-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.reading-compact .reading-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.reading-compact .reading-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.reading-compact .reading-question-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.reading-compact .reading-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.reading-compact .reading-question-text {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.7rem;
  font-size: 1rem !important;
}

.ejercicio-box.compact-3col.reading-compact .checkbox-option {
  padding: 0.45rem 0.7rem;
  margin: 0.35rem 0;
  font-size: 1rem;
}

/* Preguntas que ocupan m√∫ltiples columnas (para checkboxes largos) */
.reading-question-item.span-2 {
  grid-column: span 2;
}

.reading-question-item.span-3 {
  grid-column: span 3;
}

/* Responsive para Reading Comprehension compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.reading-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .reading-question-item.span-3 {
    grid-column: span 2;
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.reading-compact .question-grid-2col,
  .ejercicio-box.compact-3col.reading-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .reading-question-item.span-2,
  .reading-question-item.span-3 {
    grid-column: span 1;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.reading-compact .reading-text,
  .ejercicio-box.compact-3col.reading-compact .reading-text {
    padding: 1rem;
    font-size: 1rem;
  }
  
  .ejercicio-box.compact-2col.reading-compact .reading-question-item,
  .ejercicio-box.compact-3col.reading-compact .reading-question-item {
    padding: 0.85rem;
  }
}

/* ============================= */
/* BOT√ìN Y CAJA DE TRANSCRIPCI√ìN (LISTENING) */
/* ============================= */

/* Bot√≥n de transcripci√≥n */
.transcription-button {
  background: linear-gradient(135deg, #3b82f6 0%, #1e40af 100%);
  color: #ffffff;
  border: none;
  border-radius: 8px;
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  font-weight: 700;
  cursor: pointer;
  transition: all 0.3s ease;
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  margin: 1rem 0 1.5rem 0;
}

.transcription-button::before {
  content: "üìù";
  font-size: 1rem;
}

.transcription-button:hover {
  background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%);
  transform: translateY(-2px);
  box-shadow: 0 6px 16px rgba(59, 130, 246, 0.4);
}

.transcription-button:active {
  transform: translateY(0);
}

/* Caja de transcripci√≥n (oculta por defecto) */
.transcription-box {
  display: none;
  margin: 1rem 0 1.5rem 0;
  padding: 1.5rem;
  border-radius: 10px;
  background: linear-gradient(to bottom, #eff6ff 0%, #dbeafe 100%);
  border: 2px solid #93c5fd;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1);
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.transcription-box.show {
  display: block;
}

.transcription-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 2px solid #93c5fd;
}

.transcription-header strong {
  color: #1e40af;
  font-size: 1rem;
  font-weight: 700;
}

.transcription-header::before {
  content: "üéß";
  font-size: 1rem;
}

.transcription-text {
  color: #1e40af;
  line-height: 1.8;
  font-size: 1rem;
  margin: 0;
  text-align: justify;
}

.transcription-text p {
  margin-bottom: 0.75rem;
  color: #1e40af;
}

.transcription-text p:last-child {
  margin-bottom: 0;
}

/* Informaci√≥n adicional en transcripci√≥n */
.transcription-info {
  margin-top: 1rem;
  padding-top: 1rem;
  border-top: 1px solid #bfdbfe;
  font-size: 1rem;
  color: #64748b;
  font-style: italic;
}

/* Variante compacta del bot√≥n */
.transcription-button.compact {
  padding: 0.6rem 1.25rem;
  font-size: 1rem;
}

/* Responsive */
@media (max-width: 768px) {
  .transcription-button {
    width: 100%;
    justify-content: center;
  }
  
  .transcription-box {
    padding: 1.25rem;
  }
  
  .transcription-text {
    font-size: 1rem;
  }
}

@media (max-width: 480px) {
  .transcription-box {
    padding: 1rem;
  }
  
  .transcription-header {
    font-size: 1rem;
  }
  
  .transcription-text {
    font-size: 1rem;
    line-height: 1.6;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: ERROR CORRECTION */
/* ============================= */

/* Estilos comunes para ambas variantes compactas */
.ejercicio-box.error-compact .error-sentence {
  background: #fff5f5;
  border-left: 4px solid #ef4444;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  border-radius: 6px;
  font-size: 1rem;
  line-height: 1.6;
}

.ejercicio-box.error-compact .error-highlight {
  background: #fecaca;
  color: #dc2626;
  padding: 0.15rem 0.4rem;
  border-radius: 4px;
  font-weight: 600;
  text-decoration: line-through;
}

/* Variante 9A: Error Correction 2 columnas */
.ejercicio-box.compact-2col.error-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.error-compact .error-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.error-compact .error-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-2col.error-compact .error-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.error-compact .error-question-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.error-compact .error-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Variante 9B: Error Correction 3 columnas */
.ejercicio-box.compact-3col.error-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.error-compact .error-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.error-compact .error-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-3col.error-compact .error-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.error-compact .error-question-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.error-compact .error-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.error-compact .error-sentence {
  font-size: 1rem;
  padding: 0.65rem 0.9rem;
}

/* Responsive para Error Correction compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.error-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.error-compact .question-grid-2col,
  .ejercicio-box.compact-3col.error-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.error-compact .error-question-item,
  .ejercicio-box.compact-3col.error-compact .error-question-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.error-compact .error-sentence {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: TRANSLATION */
/* ============================= */

/* Estilos comunes para ambas variantes compactas */
.ejercicio-box.translation-compact .translation-sentence {
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  border-left: 4px solid #f59e0b;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  border-radius: 6px;
  font-size: 1rem;
  line-height: 1.6;
  font-weight: 500;
  color: #78350f;
  font-style: italic;
}

/* Variante 10A: Translation 2 columnas */
.ejercicio-box.compact-2col.translation-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.translation-compact .translation-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.translation-compact .translation-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-2col.translation-compact .translation-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.translation-compact .translation-question-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.translation-compact .translation-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Variante 10B: Translation 3 columnas */
.ejercicio-box.compact-3col.translation-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.translation-compact .translation-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.translation-compact .translation-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-3col.translation-compact .translation-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.translation-compact .translation-question-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.translation-compact .translation-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.translation-compact .translation-sentence {
  font-size: 1rem;
  padding: 0.65rem 0.9rem;
}

/* Responsive para Translation compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.translation-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.translation-compact .question-grid-2col,
  .ejercicio-box.compact-3col.translation-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.translation-compact .translation-question-item,
  .ejercicio-box.compact-3col.translation-compact .translation-question-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.translation-compact .translation-sentence {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: WORD BANK COMPLETION */
/* ============================= */

/* Estilos comunes para el word bank en variantes compactas */
.ejercicio-box.wordbank-compact .word-bank-display {
  background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
  border: 2px solid #60a5fa;
  border-left: 5px solid #3b82f6;
  border-radius: 8px;
  padding: 1rem 1.25rem;
  margin-bottom: 1.5rem;
  text-align: center;
  font-size: 1rem;
  line-height: 1.8;
  color: #1e3a8a;
  box-shadow: 0 2px 6px rgba(59, 130, 246, 0.15);
}

.ejercicio-box.wordbank-compact .word-bank-display strong {
  color: #1e40af;
  font-size: 1rem;
  margin-right: 0.5rem;
}

/* Variante 11A: Word Bank 2 columnas */
.ejercicio-box.compact-2col.wordbank-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.wordbank-compact .wordbank-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.wordbank-compact .wordbank-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-2col.wordbank-compact .wordbank-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
  line-height: 1.5;
}

.ejercicio-box.compact-2col.wordbank-compact .wordbank-question-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.wordbank-compact .wordbank-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Variante 11B: Word Bank 3 columnas */
.ejercicio-box.compact-3col.wordbank-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.wordbank-compact .wordbank-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.wordbank-compact .wordbank-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-3col.wordbank-compact .wordbank-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
  line-height: 1.5;
}

.ejercicio-box.compact-3col.wordbank-compact .wordbank-question-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.wordbank-compact .wordbank-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.wordbank-compact .word-bank-display {
  font-size: 1rem;
  padding: 0.9rem 1.15rem;
}

/* Responsive para Word Bank compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.wordbank-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.wordbank-compact .question-grid-2col,
  .ejercicio-box.compact-3col.wordbank-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .ejercicio-box.wordbank-compact .word-bank-display {
    font-size: 1rem;
    padding: 0.9rem 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.wordbank-compact .wordbank-question-item,
  .ejercicio-box.compact-3col.wordbank-compact .wordbank-question-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.wordbank-compact .word-bank-display {
    font-size: 1rem;
    padding: 0.8rem 0.9rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: QUESTION FORMATION */
/* ============================= */

/* Estilos comunes para el texto de respuesta en variantes compactas */
.ejercicio-box.question-compact .answer-text {
  background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
  border-left: 4px solid #6366f1;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  border-radius: 6px;
  font-size: 1rem;
  line-height: 1.6;
  color: #312e81;
}

.ejercicio-box.question-compact .answer-text strong {
  color: #4338ca;
  font-weight: 700;
}

.ejercicio-box.question-compact .hint-text {
  background: #fef9e7;
  border-left: 3px solid #fbbf24;
  padding: 0.5rem 0.75rem;
  margin-top: 0.6rem;
  border-radius: 4px;
  font-size: 1rem;
  color: #78350f;
  font-style: italic;
}

/* Variante 14A: Question Formation 2 columnas */
.ejercicio-box.compact-2col.question-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.question-compact .question-formation-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.question-compact .question-formation-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-2col.question-compact .question-formation-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.question-compact .question-formation-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.question-compact .question-formation-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Variante 14B: Question Formation 3 columnas */
.ejercicio-box.compact-3col.question-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.question-compact .question-formation-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.question-compact .question-formation-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-3col.question-compact .question-formation-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.question-compact .question-formation-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.question-compact .question-formation-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.question-compact .answer-text {
  font-size: 1rem;
  padding: 0.65rem 0.9rem;
}

.ejercicio-box.compact-3col.question-compact .hint-text {
  font-size: 1rem;
  padding: 0.45rem 0.65rem;
  margin-top: 0.5rem;
}

/* Responsive para Question Formation compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.question-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.question-compact .question-grid-2col,
  .ejercicio-box.compact-3col.question-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.question-compact .question-formation-item,
  .ejercicio-box.compact-3col.question-compact .question-formation-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.question-compact .answer-text {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
  
  .ejercicio-box.question-compact .hint-text {
    font-size: 1rem;
    padding: 0.4rem 0.6rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: CATEGORIZATION */
/* ============================= */

/* Estilos comunes para categor√≠as compactas */
.ejercicio-box.categorization-compact .category-box {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 10px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.categorization-compact .category-box:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
}

.ejercicio-box.categorization-compact .category-title {
  background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
  color: white;
  padding: 0.75rem 1rem;
  margin: -1rem -1rem 1rem -1rem;
  border-radius: 8px 8px 0 0;
  font-size: 1rem;
  font-weight: 700;
  text-align: center;
  border-bottom: 3px solid #4f46e5;
}

.ejercicio-box.categorization-compact .category-items {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.ejercicio-box.categorization-compact .checkbox-option {
  display: flex;
  align-items: center;
  padding: 0.6rem 0.75rem;
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 1rem;
}

.ejercicio-box.categorization-compact .checkbox-option:hover {
  background: #f9fafb;
  border-color: #9ca3af;
}

.ejercicio-box.categorization-compact .checkbox-option input[type="checkbox"] {
  margin-right: 0.6rem;
  cursor: pointer;
  width: 18px;
  height: 18px;
}

.ejercicio-box.categorization-compact .checkbox-option span {
  font-weight: 500;
  color: #374151;
}

/* Variante 15A: Categorization 2x2 */
.ejercicio-box.compact-2col.categorization-compact .categorization-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

/* Variante 15B: Categorization 3x3 */
.ejercicio-box.compact-3col.categorization-compact .categorization-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.categorization-compact .category-box {
  padding: 0.9rem;
}

.ejercicio-box.compact-3col.categorization-compact .category-title {
  font-size: 1rem;
  padding: 0.65rem 0.9rem;
  margin: -0.9rem -0.9rem 0.9rem -0.9rem;
}

.ejercicio-box.compact-3col.categorization-compact .checkbox-option {
  padding: 0.5rem 0.65rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.categorization-compact .checkbox-option input[type="checkbox"] {
  width: 16px;
  height: 16px;
  margin-right: 0.5rem;
}

/* Responsive para Categorization compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.categorization-compact .categorization-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.categorization-compact .categorization-grid-2col,
  .ejercicio-box.compact-3col.categorization-compact .categorization-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.categorization-compact .category-box {
    padding: 0.85rem;
  }
  
  .ejercicio-box.categorization-compact .category-title {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
  
  .ejercicio-box.categorization-compact .checkbox-option {
    padding: 0.5rem 0.6rem;
    font-size: 1rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: DIALOGUE COMPLETION */
/* ============================= */

/* Estilos comunes para di√°logos compactos */
.ejercicio-box.dialogue-compact .dialogue-prompt {
  background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
  border-left: 4px solid #ec4899;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  border-radius: 6px;
  font-size: 1rem;
  line-height: 1.6;
  color: #831843;
}

.ejercicio-box.dialogue-compact .dialogue-prompt strong {
  color: #be185d;
  font-weight: 700;
  margin-right: 0.5rem;
}

/* Variante 16A: Dialogue 2 columnas */
.ejercicio-box.compact-2col.dialogue-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.dialogue-compact .dialogue-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.dialogue-compact .dialogue-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-2col.dialogue-compact .dialogue-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.dialogue-compact .dialogue-question-item label strong {
  color: #be185d;
  margin-right: 0.4rem;
}

.ejercicio-box.compact-2col.dialogue-compact .dialogue-select {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  background-color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.dialogue-compact .dialogue-select:hover {
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.dialogue-compact .dialogue-select:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Variante 16B: Dialogue 3 columnas */
.ejercicio-box.compact-3col.dialogue-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.dialogue-compact .dialogue-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.dialogue-compact .dialogue-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-3col.dialogue-compact .dialogue-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.dialogue-compact .dialogue-question-item label strong {
  color: #be185d;
  margin-right: 0.4rem;
}

.ejercicio-box.compact-3col.dialogue-compact .dialogue-select {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  background-color: white;
  cursor: pointer;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.dialogue-compact .dialogue-select:hover {
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.dialogue-compact .dialogue-select:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.dialogue-compact .dialogue-prompt {
  font-size: 1rem;
  padding: 0.65rem 0.9rem;
}

/* Responsive para Dialogue compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.dialogue-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.dialogue-compact .question-grid-2col,
  .ejercicio-box.compact-3col.dialogue-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.dialogue-compact .dialogue-question-item,
  .ejercicio-box.compact-3col.dialogue-compact .dialogue-question-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.dialogue-compact .dialogue-prompt {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
  
  .ejercicio-box.dialogue-compact .dialogue-select {
    font-size: 1rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: STATEMENT TO QUESTION (TRANSFORMATION) */
/* ============================= */

/* Estilos comunes para statements en variantes compactas */
.ejercicio-box.transformation-compact .statement-text {
  background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
  border-left: 4px solid #8b5cf6;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  border-radius: 6px;
  font-size: 1rem;
  line-height: 1.6;
  color: #4c1d95;
}

.ejercicio-box.transformation-compact .statement-text strong {
  color: #6b21a8;
  font-weight: 700;
  margin-right: 0.4rem;
}

.ejercicio-box.transformation-compact .hint-box {
  background: #fef9e7;
  border-left: 3px solid #fbbf24;
  padding: 0.5rem 0.75rem;
  margin-top: 0.6rem;
  border-radius: 4px;
  font-size: 1rem;
  color: #78350f;
  font-style: italic;
}

/* Variante 29A: Statement to Question 2 columnas */
.ejercicio-box.compact-2col.transformation-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.transformation-compact .transformation-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.transformation-compact .transformation-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-2col.transformation-compact .transformation-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.transformation-compact .transformation-question-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.transformation-compact .transformation-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Variante 29B: Statement to Question 3 columnas */
.ejercicio-box.compact-3col.transformation-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.transformation-compact .transformation-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.transformation-compact .transformation-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-3col.transformation-compact .transformation-question-item label {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.6rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.transformation-compact .transformation-question-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.transformation-compact .transformation-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.transformation-compact .statement-text {
  font-size: 1rem;
  padding: 0.65rem 0.9rem;
}

.ejercicio-box.compact-3col.transformation-compact .hint-box {
  font-size: 1rem;
  padding: 0.45rem 0.65rem;
  margin-top: 0.5rem;
}

/* Responsive para Statement to Question compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.transformation-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.transformation-compact .question-grid-2col,
  .ejercicio-box.compact-3col.transformation-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.transformation-compact .transformation-question-item,
  .ejercicio-box.compact-3col.transformation-compact .transformation-question-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.transformation-compact .statement-text {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
  
  .ejercicio-box.transformation-compact .hint-box {
    font-size: 1rem;
    padding: 0.4rem 0.6rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: SYNONYMS & ANTONYMS */
/* ============================= */

/* Estilos comunes para bloques de sin√≥nimos y ant√≥nimos */
.ejercicio-box.synonyms-compact .synonym-block,
.ejercicio-box.synonyms-compact .antonym-block {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 10px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.synonyms-compact .synonym-block:hover,
.ejercicio-box.synonyms-compact .antonym-block:hover {
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
}

.ejercicio-box.synonyms-compact .synonym-block {
  border-top: 4px solid #10b981;
}

.ejercicio-box.synonyms-compact .antonym-block {
  border-top: 4px solid #ef4444;
}

.ejercicio-box.synonyms-compact .synonym-title {
  color: #10b981;
  font-size: 1rem;
  font-weight: 700;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #d1fae5;
}

.ejercicio-box.synonyms-compact .antonym-title {
  color: #ef4444;
  font-size: 1rem;
  font-weight: 700;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 2px solid #fecaca;
}

.ejercicio-box.synonyms-compact .matching-pairs {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1rem;
}

.ejercicio-box.synonyms-compact .word-left,
.ejercicio-box.synonyms-compact .word-right {
  display: flex;
  flex-direction: column;
  gap: 0.6rem;
}

.ejercicio-box.synonyms-compact .match-word {
  background: white;
  border: 2px solid #e5e7eb;
  border-radius: 6px;
  padding: 0.7rem 0.9rem;
  text-align: center;
  font-weight: 600;
  color: #374151;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 1rem;
}

.ejercicio-box.synonyms-compact .match-word:hover {
  background: #f9fafb;
  border-color: #9ca3af;
  transform: translateY(-2px);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

.ejercicio-box.synonyms-compact .synonym-block .match-word:hover {
  border-color: #10b981;
  background: #f0fdf4;
}

.ejercicio-box.synonyms-compact .antonym-block .match-word:hover {
  border-color: #ef4444;
  background: #fef2f2;
}

/* Variante 30A: Synonyms & Antonyms 2x2 */
.ejercicio-box.compact-2col.synonyms-compact .synonyms-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

/* Variante 30B: Synonyms & Antonyms 3x3 */
.ejercicio-box.compact-3col.synonyms-compact .synonyms-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.synonyms-compact .synonym-block,
.ejercicio-box.compact-3col.synonyms-compact .antonym-block {
  padding: 0.9rem;
}

.ejercicio-box.compact-3col.synonyms-compact .synonym-title,
.ejercicio-box.compact-3col.synonyms-compact .antonym-title {
  font-size: 1rem;
  margin-bottom: 0.85rem;
  padding-bottom: 0.45rem;
}

.ejercicio-box.compact-3col.synonyms-compact .matching-pairs {
  gap: 0.8rem;
}

.ejercicio-box.compact-3col.synonyms-compact .match-word {
  padding: 0.6rem 0.75rem;
  font-size: 1rem;
}

/* Responsive para Synonyms & Antonyms compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.synonyms-compact .synonyms-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.synonyms-compact .synonyms-grid-2col,
  .ejercicio-box.compact-3col.synonyms-compact .synonyms-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
  
  .ejercicio-box.synonyms-compact .matching-pairs {
    gap: 0.75rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.synonyms-compact .synonym-block,
  .ejercicio-box.synonyms-compact .antonym-block {
    padding: 0.85rem;
  }
  
  .ejercicio-box.synonyms-compact .synonym-title,
  .ejercicio-box.synonyms-compact .antonym-title {
    font-size: 1rem;
    margin-bottom: 0.75rem;
  }
  
  .ejercicio-box.synonyms-compact .match-word {
    padding: 0.6rem 0.7rem;
    font-size: 1rem;
  }
  
  .ejercicio-box.synonyms-compact .matching-pairs {
    gap: 0.6rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: VERB TENSES */
/* ============================= */

/* Estilos comunes para badges de tiempos verbales */
.ejercicio-box.verbtenses-compact .tense-badge {
  display: inline-block;
  padding: 0.4rem 0.8rem;
  border-radius: 20px;
  font-size: 1rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 0.75rem;
}

.ejercicio-box.verbtenses-compact .tense-badge.present {
  background: linear-gradient(135deg, #10b981 0%, #059669 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(16, 185, 129, 0.3);
}

.ejercicio-box.verbtenses-compact .tense-badge.past {
  background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(245, 158, 11, 0.3);
}

.ejercicio-box.verbtenses-compact .tense-badge.future {
  background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(59, 130, 246, 0.3);
}

.ejercicio-box.verbtenses-compact .tense-badge.continuous {
  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
  color: white;
  box-shadow: 0 2px 4px rgba(139, 92, 246, 0.3);
}

.ejercicio-box.verbtenses-compact .verb-sentence {
  background: #f8fafc;
  border-left: 4px solid #cbd5e1;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  border-radius: 6px;
  font-size: 1rem;
  line-height: 1.6;
  color: #1e293b;
  font-weight: 500;
}

/* Variante 31A: Verb Tenses 2 columnas */
.ejercicio-box.compact-2col.verbtenses-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.verbtenses-compact .verbtense-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.verbtenses-compact .verbtense-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-2col.verbtenses-compact .verbtense-question-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.verbtenses-compact .verbtense-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

/* Variante 31B: Verb Tenses 3 columnas */
.ejercicio-box.compact-3col.verbtenses-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.verbtenses-compact .verbtense-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.verbtenses-compact .verbtense-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-3col.verbtenses-compact .verbtense-question-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.verbtenses-compact .verbtense-question-item input[type="text"]:focus {
  border-color: #10b981;
  box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.verbtenses-compact .verb-sentence {
  font-size: 1rem;
  padding: 0.65rem 0.9rem;
}

.ejercicio-box.compact-3col.verbtenses-compact .tense-badge {
  font-size: 1rem;
  padding: 0.35rem 0.7rem;
  margin-bottom: 0.65rem;
}

/* Responsive para Verb Tenses compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.verbtenses-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.verbtenses-compact .question-grid-2col,
  .ejercicio-box.compact-3col.verbtenses-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.verbtenses-compact .verbtense-question-item,
  .ejercicio-box.compact-3col.verbtenses-compact .verbtense-question-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.verbtenses-compact .verb-sentence {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
  
  .ejercicio-box.verbtenses-compact .tense-badge {
    font-size: 1rem;
    padding: 0.3rem 0.6rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: PREPOSITIONS */
/* ============================= */

/* Estilos comunes para oraciones con preposiciones */
.ejercicio-box.prepositions-compact .prep-sentence {
  background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
  border-left: 4px solid #f97316;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  border-radius: 6px;
  font-size: 1rem;
  line-height: 1.6;
  color: #7c2d12;
  font-weight: 500;
}

/* Variante 32A: Prepositions 2 columnas */
.ejercicio-box.compact-2col.prepositions-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.prepositions-compact .preposition-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.prepositions-compact .preposition-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-2col.prepositions-compact .prep-select {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  background-color: white;
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 600;
  color: #1e293b;
}

.ejercicio-box.compact-2col.prepositions-compact .prep-select:hover {
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.prepositions-compact .prep-select:focus {
  border-color: #f97316;
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.15);
  outline: none;
}

/* Variante 32B: Prepositions 3 columnas */
.ejercicio-box.compact-3col.prepositions-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.prepositions-compact .preposition-question-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.prepositions-compact .preposition-question-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
}

.ejercicio-box.compact-3col.prepositions-compact .prep-select {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  background-color: white;
  cursor: pointer;
  transition: all 0.2s ease;
  font-weight: 600;
  color: #1e293b;
}

.ejercicio-box.compact-3col.prepositions-compact .prep-select:hover {
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.prepositions-compact .prep-select:focus {
  border-color: #f97316;
  box-shadow: 0 0 0 3px rgba(249, 115, 22, 0.15);
  outline: none;
}

.ejercicio-box.compact-3col.prepositions-compact .prep-sentence {
  font-size: 1rem;
  padding: 0.65rem 0.9rem;
}

/* Responsive para Prepositions compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.prepositions-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.prepositions-compact .question-grid-2col,
  .ejercicio-box.compact-3col.prepositions-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.prepositions-compact .preposition-question-item,
  .ejercicio-box.compact-3col.prepositions-compact .preposition-question-item {
    padding: 0.85rem;
  }
  
  .ejercicio-box.prepositions-compact .prep-sentence {
    font-size: 1rem;
    padding: 0.6rem 0.8rem;
  }
  
  .ejercicio-box.prepositions-compact .prep-select {
    font-size: 1rem;
  }
}

/* =========================================================================================*/
/* Ejercicio 13A: Cloze text inline variant - Forzar estilos */
/* =========================================================================================*/
.ejercicio-box[data-id="cloze-13a"] .cloze-text-inline {
  background: linear-gradient(to bottom, #f0fdf4 0%, #dcfce7 100%);
  border: 2px solid #86efac;
  border-left: 5px solid #22c55e;
  border-radius: 10px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box[data-id="cloze-13a"] .cloze-text-inline p {
  margin: 0 !important;
  color: #14532d;
  font-size: 1rem;
  line-height: 1.8;
  text-align: justify;
}

/* Selectores completamente integrados en el texto - FORZAR INLINE */
.ejercicio-box[data-id="cloze-13a"] .inline-select-variant {
  display: inline !important;
  width: auto !important;
  max-width: 120px !important;
  padding: 0.2rem 0.4rem !important;
  border: 2px solid #22c55e !important;
  border-radius: 4px !important;
  background-color: white !important;
  color: #14532d !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  font-family: inherit !important;
  cursor: pointer !important;
  transition: all 0.2s ease !important;
  margin: 0 0.2rem !important;
  vertical-align: baseline !important;
  line-height: normal !important;
  height: auto !important;
}

.ejercicio-box[data-id="cloze-13a"] .inline-select-variant:hover {
  border-color: #16a34a !important;
  background-color: #f0fdf4 !important;
}

.ejercicio-box[data-id="cloze-13a"] .inline-select-variant:focus {
  border-color: #15803d !important;
  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.2) !important;
  outline: none !important;
}

/* Ejercicio 13B: Word Bank + Text Inputs Variant */

/* Caja del banco de palabras */
.ejercicio-box[data-id="cloze-13b"] .word-bank-box {
  background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
  border: 2px solid #a78bfa;
  border-left: 5px solid #8b5cf6;
  border-radius: 10px;
  padding: 1.25rem;
  margin-bottom: 1.5rem;
  text-align: center;
}

.ejercicio-box[data-id="cloze-13b"] .word-bank-box strong {
  display: block;
  color: #5b21b6;
  font-size: 1rem;
  margin-bottom: 1rem;
  font-weight: 700;
}

.ejercicio-box[data-id="cloze-13b"] .word-bank-words {
  display: flex;
  flex-wrap: wrap;
  gap: 0.75rem;
  justify-content: center;
  align-items: center;
}

.ejercicio-box[data-id="cloze-13b"] .word-tag {
  background: white;
  color: #6b21a8;
  padding: 0.5rem 1rem;
  border-radius: 8px;
  border: 2px solid #a78bfa;
  font-weight: 700;
  font-size: 1rem;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 2px 4px rgba(139, 92, 246, 0.2);
}

.ejercicio-box[data-id="cloze-13b"] .word-tag:hover {
  background: #f3e8ff;
  border-color: #8b5cf6;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(139, 92, 246, 0.3);
}

/* Texto con inputs integrados */
.ejercicio-box[data-id="cloze-13b"] .cloze-text-wordbank {
  background: linear-gradient(to bottom, #f0fdf4 0%, #dcfce7 100%);
  border: 2px solid #86efac;
  border-left: 5px solid #22c55e;
  border-radius: 10px;
  padding: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box[data-id="cloze-13b"] .cloze-text-wordbank p {
  margin: 0 !important;
  color: #14532d;
  font-size: 1rem;
  line-height: 2;
  text-align: justify;
}

/* Inputs integrados en el texto */
.ejercicio-box[data-id="cloze-13b"] .inline-input-wordbank {
  display: inline !important;
  width: 100px !important;
  padding: 0.3rem 0.5rem !important;
  border: none !important;
  border-bottom: 2px solid #22c55e !important;
  border-radius: 0 !important;
  background-color: transparent !important;
  color: #14532d !important;
  font-size: 1rem !important;
  font-weight: 600 !important;
  font-family: inherit !important;
  text-align: center !important;
  transition: all 0.2s ease !important;
  margin: 0 0.2rem !important;
  vertical-align: baseline !important;
  line-height: normal !important;
  height: auto !important;
}

.ejercicio-box[data-id="cloze-13b"] .inline-input-wordbank:focus {
  border-bottom-color: #16a34a !important;
  background-color: rgba(34, 197, 94, 0.05) !important;
  outline: none !important;
}

.ejercicio-box[data-id="cloze-13b"] .inline-input-wordbank::placeholder {
  color: #86efac;
  opacity: 0.7;
}

/* Responsive */
@media (max-width: 768px) {
  .ejercicio-box[data-id="cloze-13b"] .word-bank-words {
    gap: 0.5rem;
  }
  
  .ejercicio-box[data-id="cloze-13b"] .word-tag {
    padding: 0.4rem 0.8rem;
    font-size: 1rem;
  }
  
  .ejercicio-box[data-id="cloze-13b"] .inline-input-wordbank {
    width: 80px !important;
  }
}

/* Caja de traducci√≥n */
.translation-box {
  background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
  border: 2px solid #fbbf24;
  border-left: 5px solid #f59e0b;
  border-radius: 8px;
  padding: 1rem 1.25rem;
  margin-bottom: 1rem;
  animation: fadeIn 0.3s ease;
}

.translation-box p {
  margin: 0;
  color: #78350f;
  font-size: 1rem;
  line-height: 1.6;
}

.translation-box strong {
  color: #92400e;
  font-weight: 700;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Grupo de botones */
.button-group {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
}

/* Responsive para botones */
@media (max-width: 480px) {
  .button-group {
    flex-direction: column;
  }
  
  .btn-cloze-translate,
  .btn-check {
    width: 100%;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: LISTENING DICTATION */
/* ============================= */

/* Audio player mini para versi√≥n est√°ndar */
.audio-player-mini {
  background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
  border: 2px solid #c084fc;
  border-left: 4px solid #a855f7;
  border-radius: 8px;
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
}

.audio-player-mini audio {
  width: 100%;
  height: 40px;
}

/* Variante 8A: Listening 2 columnas */
.ejercicio-box.compact-2col.listening-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.listening-compact .listening-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.listening-compact .listening-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.listening-compact .audio-box {
  background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
  border: 2px solid #c084fc;
  border-left: 4px solid #a855f7;
  border-radius: 8px;
  padding: 0.75rem;
  margin-bottom: 0.75rem;
  text-align: center;
}

.ejercicio-box.compact-2col.listening-compact .audio-label {
  display: block;
  font-weight: 700;
  color: #6b21a8;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.listening-compact audio {
  width: 100%;
  height: 35px;
}

.ejercicio-box.compact-2col.listening-compact .listening-question {
  display: block;
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.5rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.listening-compact .listening-item input[type="text"] {
  width: 100%;
  padding: 0.65rem 0.85rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.listening-compact .listening-item input[type="text"]:focus {
  border-color: #a855f7;
  box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.15);
  outline: none;
}

/* Variante 8B: Listening 3 columnas */
.ejercicio-box.compact-3col.listening-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.listening-compact .listening-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.listening-compact .listening-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.listening-compact .audio-box {
  background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
  border: 2px solid #c084fc;
  border-left: 4px solid #a855f7;
  border-radius: 8px;
  padding: 0.65rem;
  margin-bottom: 0.7rem;
  text-align: center;
}

.ejercicio-box.compact-3col.listening-compact .audio-label {
  display: block;
  font-weight: 700;
  color: #6b21a8;
  margin-bottom: 0.4rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.listening-compact audio {
  width: 100%;
  height: 32px;
}

.ejercicio-box.compact-3col.listening-compact .listening-item input[type="text"] {
  width: 100%;
  padding: 0.6rem 0.8rem;
  border: 2px solid #e2e8f0;
  border-radius: 6px;
  font-size: 1rem;
  font-family: inherit;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.listening-compact .listening-item input[type="text"]:focus {
  border-color: #a855f7;
  box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.15);
  outline: none;
}

/* Responsive para Listening compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.listening-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.listening-compact .question-grid-2col,
  .ejercicio-box.compact-3col.listening-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.listening-compact .listening-item,
  .ejercicio-box.compact-3col.listening-compact .listening-item {
    padding: 0.85rem;
  }
}

/* ============================= */
/* VARIANTES COMPACTAS: LISTENING + MULTIPLE CHOICE */
/* ============================= */

/* Audio player principal para versiones C y D */
.audio-player-main {
  background: linear-gradient(135deg, #f3e8ff 0%, #e9d5ff 100%);
  border: 2px solid #c084fc;
  border-left: 5px solid #a855f7;
  border-radius: 10px;
  padding: 1.25rem;
  margin-bottom: 1rem;
  text-align: center;
}

.audio-player-main audio {
  width: 100%;
  height: 45px;
}

/* Variante 8C: Listening MC 2 columnas */
.ejercicio-box.compact-2col.listening-mc-compact .question-grid-2col {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-2col.listening-mc-compact .listening-mc-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 1rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-2col.listening-mc-compact .listening-mc-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-2col.listening-mc-compact .listening-mc-question {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.75rem;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.listening-mc-compact .radio-option {
  display: flex;
  align-items: center;
  padding: 0.5rem 0.75rem;
  margin: 0.4rem 0;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 1rem;
}

.ejercicio-box.compact-2col.listening-mc-compact .radio-option:hover {
  background: #f0fdf4;
}

/* Variante 8D: Listening MC 3 columnas */
.ejercicio-box.compact-3col.listening-mc-compact .question-grid-3col {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1.25rem;
  margin-bottom: 1.5rem;
}

.ejercicio-box.compact-3col.listening-mc-compact .listening-mc-item {
  background: #f8fafb;
  border: 2px solid #e2e8f0;
  border-radius: 8px;
  padding: 0.9rem;
  transition: all 0.2s ease;
}

.ejercicio-box.compact-3col.listening-mc-compact .listening-mc-item:hover {
  background: #f1f5f9;
  border-color: #cbd5e1;
}

.ejercicio-box.compact-3col.listening-mc-compact .listening-mc-question {
  font-weight: 600;
  color: #1a2332;
  margin-bottom: 0.7rem;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.listening-mc-compact .radio-option {
  display: flex;
  align-items: center;
  padding: 0.45rem 0.7rem;
  margin: 0.35rem 0;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s ease;
  font-size: 1rem;
}

.ejercicio-box.compact-3col.listening-mc-compact .radio-option:hover {
  background: #f0fdf4;
}

/* Responsive para Listening MC compacto */
@media (max-width: 1200px) {
  .ejercicio-box.compact-3col.listening-mc-compact .question-grid-3col {
    grid-template-columns: repeat(2, 1fr);
  }
}

@media (max-width: 768px) {
  .ejercicio-box.compact-2col.listening-mc-compact .question-grid-2col,
  .ejercicio-box.compact-3col.listening-mc-compact .question-grid-3col {
    grid-template-columns: 1fr;
    gap: 1rem;
  }
}

@media (max-width: 480px) {
  .ejercicio-box.compact-2col.listening-mc-compact .listening-mc-item,
  .ejercicio-box.compact-3col.listening-mc-compact .listening-mc-item {
    padding: 0.85rem;
  }
}

/* ===== ESTILOS ADICIONALES PARA EJERCICIOS CON IM√ÅGENES Y V√çDEOS ===== */

/* Contenedor de imagen principal */
.exercise-image-container {
    text-align: center;
    margin: 20px auto;
    padding: 15px;
    background: #f9f9f9;
    border-radius: 8px;
    max-width: 650px;  /* Limita el contenedor (ajusta al tama√±o que quieras) */
}

.exercise-image {
    max-width: 100%;   /* Ocupa el 100% del contenedor, no m√°s */
    height: auto;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    display: block;
    margin: 0 auto;
}

.exercise-image-small { /* (Ejercicio 38 - Sequence): */
    max-width: 180px;
    width: 100%;
    height: auto;
    border-radius: 5px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.1);
}

/* Comparison layout para 2 im√°genes lado a lado */
.image-comparison { /*(Ejercicio 36 - Compare)*/
    display: flex;
    gap: 20px;
    justify-content: center;
    flex-wrap: wrap;
    margin: 20px 0;
}

.comparison-item {
    flex: 1;
    min-width: 280px;
    max-width: 45%;
    text-align: center;
}

/* Sequence images grid */
.sequence-images {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.sequence-item {
    text-align: center;
    padding: 10px;
    background: #f5f5f5;
    border-radius: 8px;
}

/* Emotions grid */
.emotions-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 15px;
    margin: 20px 0;
}

.emotion-item {
    text-align: center;
    padding: 10px;
    background: #f9f9f9;
    border-radius: 8px;
}

/* ===== ESTILOS PARA V√çDEOS INCRUSTADOS ===== */

.video-container {
    position: relative;
    width: 100%;
    max-width: 800px;
    margin: 20px auto;
    background: #000;
    border-radius: 8px;
    overflow: hidden;
}

.exercise-video {
    width: 100%;
    height: auto;
    display: block;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .image-comparison {
        flex-direction: column;
    }
    
    .comparison-item {
        max-width: 100%;
    }
    
    .sequence-images,
    .emotions-grid {
        grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    }
    
    .exercise-image-small {
        max-width: 150px;
    }
}

/* ===== ESTILOS PARA QUIZ INTERACTIVO ===== */
.quiz-question {
    display: none;
}

.quiz-question.active {
    display: block;
    animation: fadeInQuiz 0.3s ease-in;
}

@keyframes fadeInQuiz {
    from {
        opacity: 0;
        transform: translateX(20px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

/* Inputs de texto en quizzes */
.quiz-container input[type="text"],
.quiz-container textarea {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
}

.quiz-container input[type="text"]:focus,
.quiz-container textarea:focus {
    border-color: #007bff;
    outline: none;
}

/* Selects en quizzes */
.quiz-container select {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
    background-color: white;
    cursor: pointer;
}

.quiz-container select:focus {
    border-color: #007bff;
    outline: none;
}

/* Checkboxes */
.checkbox-option {
    display: block;
    padding: 10px;
    margin: 8px 0;
    border: 2px solid #e0e0e0;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.2s;
}

.checkbox-option:hover {
    background-color: #f5f5f5;
    border-color: #007bff;
}

.checkbox-option input[type="checkbox"] {
    margin-right: 10px;
    cursor: pointer;
}

/* Evitar que los textarea se puedan redimensionar */
.quiz-container textarea {
    width: 100%;
    padding: 10px;
    margin-top: 10px;
    border: 2px solid #ddd;
    border-radius: 5px;
    font-size: 16px;
    resize: none;  /* ‚Üê ESTO BLOQUEA EL RESIZE */
}

/* ===== ESTILOS PARA VIDEO CARDS DE YOUTUBE - FORMATO M√ÅS ANCHO ===== */

.video-card {
    margin: 20px auto;
    text-align: center;
    max-width: 600px; /* M√°s ancho - ajusta a tu gusto (800px, 1000px, etc.) */
}

.video-thumbnail {
    position: relative;
    cursor: pointer;
    display: block;
    width: 100%;
    padding-bottom: 56.25%; /* Aspect ratio 16:9 (altura del 56.25% del ancho) */
    border-radius: 8px;
    overflow: hidden;
    transition: transform 0.2s;
    background-color: #000;
}

.video-thumbnail:hover {
    transform: scale(1.02);
}

.video-thumbnail img {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 100%;
    height: 100%;
    object-fit: cover; /* Recorta la imagen para llenar el espacio */
    display: block;
}

.play-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 68px;
    height: 48px;
    background-color: rgba(255, 0, 0, 0.8);
    border-radius: 14px;
    transition: background-color 0.2s;
    z-index: 10;
}

.play-icon::before {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-40%, -50%);
    width: 0;
    height: 0;
    border-style: solid;
    border-width: 10px 0 10px 20px;
    border-color: transparent transparent transparent #fff;
}

.video-thumbnail:hover .play-icon {
    background-color: rgba(255, 0, 0, 1);
}

.video-title {
    margin-top: 10px;
    font-size: 14px;
    color: #333;
    font-weight: 500;
}

/* Iframe con aspect ratio 16:9 cuando se reproduce */
.video-card iframe {
    width: 100%;
    aspect-ratio: 16 / 9; /* Formato panor√°mico 16:9 */
    border-radius: 8px;
    border: none;
}

/* Responsive: en m√≥viles m√°s peque√±o */
@media (max-width: 768px) {
    .video-card {
        max-width: 100%;
        padding: 0 10px;
    }
}

/* ========================================
   DI√ÅLOGO MODERNO - Ejercicio 14
   ======================================== */

.dialogue-container-modern {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border-radius: 16px;
    padding: 2rem;
    margin: 1.5rem 0 2rem 0;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
}

.dialogue-bubble {
    display: flex;
    gap: 0.8rem;
    align-items: flex-start;
    margin-bottom: 1.2rem;
    animation: fadeInUp 0.4s ease;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* AVATARES */
.bubble-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.8rem;
    flex-shrink: 0;
    box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15);
    transition: transform 0.2s ease;
}

.dialogue-bubble:hover .bubble-avatar {
    transform: scale(1.1);
}

.alice-avatar {
    background: linear-gradient(135deg, #ec4899 0%, #db2777 100%);
}

.aria-avatar {
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
}

.bill-avatar {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
}

/* BURBUJAS DE CONTENIDO */
.bubble-content {
    flex: 1;
    border-radius: 16px;
    padding: 1rem 1.3rem;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
    position: relative;
    transition: all 0.3s ease;
}

.dialogue-bubble:hover .bubble-content {
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
    transform: translateY(-2px);
}

.alice-content {
    background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
    border-left: 4px solid #ec4899;
}

.aria-content {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    border-right: 4px solid #10b981;
}

.bill-content {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border-right: 4px solid #3b82f6;
}

/* NOMBRES */
.bubble-name {
    display: block;
    font-weight: 700;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 0.4rem;
    opacity: 0.7;
}

.alice-content .bubble-name {
    color: #be185d;
}

.aria-content .bubble-name {
    color: #047857;
}

.bill-content .bubble-name {
    color: #1e40af;
}

.bubble-content p {
    margin: 0;
    color: #1f2937;
    line-height: 1.6;
    font-size: 0.95rem;
}

/* ALINEACI√ìN */
.alice-bubble {
    justify-content: flex-start;
}

.aria-bubble,
.bill-bubble {
    justify-content: flex-end;
}

/* ========================================
   DI√ÅLOGO CON IMAGEN - Ejercicio 14
   ======================================== */

.dialogue-layout-grid {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 1.5rem;
    margin: 1.5rem 0 2rem 0;
}

/* COLUMNA IZQUIERDA - IMAGEN */
.dialogue-image-container {
    position: relative;
}

.dialogue-illustration {
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border-radius: 16px;
    padding: 1.5rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    height: 100%;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    position: sticky;
    top: 20px;
}

.illustration-content {
    display: flex;
    flex-direction: column;
    gap: 1.2rem;
}

.character-intro {
    display: flex;
    align-items: center;
    gap: 0.8rem;
    padding: 0.8rem;
    background: white;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    transition: transform 0.2s ease;
}

.character-intro:hover {
    transform: translateX(5px);
}

.char-icon {
    font-size: 2.5rem;
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
}

.char-info {
    display: flex;
    flex-direction: column;
}

.char-info strong {
    color: #1e40af;
    font-size: 1rem;
}

.char-info span {
    color: #64748b;
    font-size: 0.8rem;
}

.illustration-footer {
    text-align: center;
    padding: 1rem;
    background: rgba(59, 130, 246, 0.1);
    border-radius: 8px;
    margin-top: 1rem;
}

.illustration-footer span {
    color: #1e40af;
    font-weight: 600;
    font-size: 0.9rem;
}

/* COLUMNA DERECHA - CHAT */
.dialogue-chat-container {
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border-radius: 16px;
    padding: 1.5rem;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.06);
    max-height: 600px;
    overflow-y: auto;
}

.chat-bubble {
    display: flex;
    gap: 0.6rem;
    margin-bottom: 1rem;
    align-items: flex-start;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.bubble-avatar-small {
    width: 36px;
    height: 36px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    flex-shrink: 0;
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.bubble-text {
    max-width: 75%;
    padding: 0.8rem 1.1rem;
    border-radius: 12px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
    transition: all 0.2s ease;
}

.chat-bubble:hover .bubble-text {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.12);
    transform: translateY(-1px);
}

.msg-author {
    display: block;
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 0.3rem;
    opacity: 0.7;
}

.bubble-text p {
    margin: 0;
    line-height: 1.5;
    font-size: 0.9rem;
    color: #1f2937;
}

/* ALICE (izquierda) */
.left-bubble {
    justify-content: flex-start;
}

.alice-msg .bubble-text {
    background: linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%);
    border-left: 3px solid #ec4899;
}

.alice-msg .msg-author {
    color: #be185d;
}

/* ARIA Y BILL (derecha) */
.right-bubble {
    justify-content: flex-end;
}

.aria-msg .bubble-text {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    border-right: 3px solid #10b981;
}

.aria-msg .msg-author {
    color: #047857;
}

.bill-msg .bubble-text {
    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
    border-right: 3px solid #3b82f6;
}

.bill-msg .msg-author {
    color: #1e40af;
}

/* RESPONSIVE */
@media (max-width: 768px) {
    .dialogue-layout-grid {
        grid-template-columns: 1fr;
    }
    
    .dialogue-illustration {
        position: relative;
        top: 0;
    }
    
    .illustration-content {
        flex-direction: row;
        flex-wrap: wrap;
    }
    
    .bubble-text {
        max-width: 85%;
    }
}


/* ===========================================================================================================================================*/
/* ===========================================================================================================================================*/
/* ===========================================================================================================================================*/
/* Reglas generales
/* ===========================================================================================================================================*/
/* ===========================================================================================================================================*/
/* ===========================================================================================================================================*/

/* ============================================================================= */
/* texto: font-size: 1rem; (y asegurar compatibilidad con todos los navegadores) */
/* ============================================================================= */

input[type="text"]::-webkit-input-placeholder {
  font-size: 1rem;
}

input[type="text"]::-moz-placeholder {
  font-size: 1rem;
}

input[type="text"]:-ms-input-placeholder {
  font-size: 1rem;
}

input[type="text"]:-moz-placeholder {
  font-size: 1rem;
}

/* ============================ */
/* enunciados de los ejercicios */
/* ============================ */

.ejercicio-box h3.enunciado-ejercicio {
  background: linear-gradient(to right, #fde68a 0%, #fef3c7 100%) !important; /* Gradiente de izquierda a derecha */
  border: 2px solid #fbbf24 !important;
  border-left: 5px solid #f59e0b !important;
  padding: 1rem 1.3rem !important;
  border-radius: 8px !important;
  margin-bottom: 1rem !important;
  font-size: 1.2rem !important; /* Texto m√°s grande */
  text-align: justify !important; /* Texto justificado */
  line-height: 1.6 !important;
  box-shadow: 0 2px 6px rgba(245, 158, 11, 0.15) !important;
}

.ejercicio-box h3.enunciado-ejercicio .ejercicio-numero {
  color: #92400e !important;
  font-weight: 800 !important;
  margin-right: 0.3rem;
}

/* =========================== */
/* apartados de los ejercicios */
/* =========================== */

/* Versi√≥n EST√ÅNDAR (sin grillas) */
.apartado-ejercicio {
  background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
  border-left: 4px solid #f97316;
  padding: 0.85rem 1.1rem;
  margin-bottom: 0.85rem;
  border-radius: 6px;
  font-size: 1rem !important;
  line-height: 1.6;
  color: #7c2d12;
  font-weight: bold;
}

/* Versi√≥n COMPACTA 2x2 */
.ejercicio-box.compact-2col .apartado-ejercicio {
  padding: 0.75rem 1rem;
  margin-bottom: 0.75rem;
  font-size: 1rem !important;
  line-height: 1.6;
}

/* Versi√≥n COMPACTA 3x3 */
.ejercicio-box.compact-3col .apartado-ejercicio {
  padding: 0.65rem 0.9rem;
  margin-bottom: 0.65rem;
  font-size: 1rem !important;
  line-height: 1.5;
}

/* ===========================================================================================================================================*/
/* ===========================================================================================================================================*/
/* ===========================================================================================================================================*/
/* ===== ESTILOS PARA √çNDICE DE EJERCICIOS ===== */
/* ===========================================================================================================================================*/
/* ===========================================================================================================================================*/
/* ===========================================================================================================================================*/

.exercise-index {
    margin: 30px 0;
    padding: 20px;
    background-color: #f8f9fa;
    border-radius: 8px;
    border: 2px solid #dee2e6;
}

.exercise-index h2 {
    color: #2c3e50;
    margin-bottom: 10px;
    text-align: center;
}

.index-description {
    text-align: center;
    color: #6c757d;
    margin-bottom: 20px;
    font-style: italic;
}

.index-table {
    width: 100%;
    border-collapse: collapse;
    background-color: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    border-radius: 8px;
    overflow: hidden;
}

.index-table thead {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
}

.index-table th {
    padding: 12px;
    text-align: left;
    font-weight: 600;
    font-size: 14px;
}

.index-table th:first-child {
    width: 60px;
    text-align: center;
}

.index-table th:nth-child(2) {
    width: 35%;
}

.index-table th:nth-child(3) {
    width: 15%;
}

.index-table th:nth-child(4) {
    width: 45%;
}

.index-table tbody tr {
    border-bottom: 1px solid #e9ecef;
    transition: background-color 0.2s;
}

.index-table tbody tr:hover {
    background-color: #f1f3f5;
}

.index-table td {
    padding: 10px 12px;
    font-size: 13px;
}

.index-table td:first-child {
    text-align: center;
    font-weight: 600;
    color: #495057;
}

.index-table a {
    color: #667eea;
    text-decoration: none;
    transition: color 0.2s;
}

.index-table a:hover {
    color: #764ba2;
    text-decoration: underline;
}

.index-table .section-header {
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    color: white;
    font-weight: bold;
}

.index-table .section-header td {
    padding: 12px;
    font-size: 14px;
}

.index-table tbody tr:last-child {
    border-bottom: none;
}

/* Responsive */
@media (max-width: 768px) {
    .index-table {
        font-size: 12px;
    }
    
    .index-table th,
    .index-table td {
        padding: 8px 6px;
    }
}


